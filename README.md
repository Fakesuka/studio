# YakGo: –í–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –Ω–∞ –¥–æ—Ä–æ–≥–∞—Ö –Ø–∫—É—Ç–∏–∏

[![Telegram](https://img.shields.io/badge/Telegram-Mini_App-blue?logo=telegram)](https://telegram.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue?logo=typescript)](https://www.typescriptlang.org/)
[![Next.js](https://img.shields.io/badge/Next.js-14-black?logo=next.js)](https://nextjs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-14-blue?logo=postgresql)](https://www.postgresql.org/)

## 1. –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

YakGo ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–≤—Ç–æ–≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –≤ –Ø–∫—É—Ç–∏–∏, —Ä–∞–±–æ—Ç–∞—é—â–∞—è –∫–∞–∫ **Telegram Mini App**. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤ —Å–µ–±–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

*   **–í—ã–∑–æ–≤ –ø–æ–º–æ—â–∏ –Ω–∞ –¥–æ—Ä–æ–≥–µ:** –ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞–º –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º (–æ—Ç–æ–≥—Ä–µ–≤ –∞–≤—Ç–æ, –¥–æ—Å—Ç–∞–≤–∫–∞ —Ç–æ–ø–ª–∏–≤–∞, —Ç–µ—Ö–ø–æ–º–æ—â—å, —ç–≤–∞–∫—É–∞—Ç–æ—Ä).
*   **–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å:** –ü–ª–æ—â–∞–¥–∫–∞, –≥–¥–µ –≤–æ–¥–∏—Ç–µ–ª–∏ –∏ –º–∞–≥–∞–∑–∏–Ω—ã –º–æ–≥—É—Ç –ø—Ä–æ–¥–∞–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã –ø–µ—Ä–≤–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–∏—Å—Ç–æ–≤.
*   **–î–≤–µ —Ä–æ–ª–∏:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞: –¥–ª—è **–∫–ª–∏–µ–Ω—Ç–æ–≤** –∏ –¥–ª—è **–≤–æ–¥–∏—Ç–µ–ª–µ–π-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π**.
*   **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:** WebSocket –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–æ–¥–∏—Ç–µ–ª—è –Ω–∞ –∫–∞—Ä—Ç–µ –∏ real-time —á–∞—Ç–∞.
*   **–ß–∞—Ç –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram Bot API.
*   **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞:** –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º.
*   **–ë–æ–Ω—É—Å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞:** –ü—Ä–æ–º–æ–∫–æ–¥—ã –∏ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç **–ø–æ–ª–Ω—ã–π stack**:
- ‚úÖ **Frontend** (Next.js + TypeScript + Tailwind)
- ‚úÖ **Backend API** (Node.js + Express + Prisma + PostgreSQL)
- ‚úÖ **Telegram Mini App** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ **WebSocket** –¥–ª—è real-time —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** —Å –ø–æ–ª–Ω–æ–π —Å—Ö–µ–º–æ–π

## 2. –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

### Frontend
*   **–§—Ä–µ–π–º–≤–æ—Ä–∫:** [Next.js 14](https://nextjs.org/) (App Router)
*   **–Ø–∑—ã–∫:** [TypeScript](https://www.typescriptlang.org/)
*   **UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** [Shadcn/UI](https://ui.shadcn.com/)
*   **–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è:** [Tailwind CSS](https://tailwindcss.com/)
*   **–ö–∞—Ä—Ç—ã:** [2GIS API](https://docs.2gis.ru/ru/maps/intro)
*   **AI-—Ñ—É–Ω–∫—Ü–∏–∏:** [Qwen AI](https://qwenlm.github.io/) (Ollama/DashScope/OpenAI-compatible)
*   **Telegram:** [Telegram Mini Apps SDK](https://core.telegram.org/bots/webapps)

### Backend
*   **Runtime:** Node.js + TypeScript
*   **Server:** Express.js
*   **Database:** PostgreSQL
*   **ORM:** Prisma
*   **WebSocket:** Socket.IO (real-time tracking + chat)
*   **Authentication:** Telegram Mini App validation
*   **Payments:** –ÆKassa API
*   **Notifications:** Telegram Bot API (axios)
*   **Background jobs:** Cron (–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á)

## 3. üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–°–º. –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤ [INSTALLATION.md](./INSTALLATION.md)

### –ö—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è (–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <your-repo-url>
cd studio

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL –∏ —Å–æ–∑–¥–∞–π—Ç–µ –ë–î
createdb yakgo

# 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Backend
cd backend
npm install
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env (DATABASE_URL, TELEGRAM_BOT_TOKEN)
npm run prisma:generate
npm run prisma:push
npm run prisma:seed

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Backend (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
npm run dev  # –ó–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ :3001

# 5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Frontend
cd ..
npm install
cp .env.local.example .env.local
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env.local

# 6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Frontend
npm run dev  # –ó–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ :9002

# 7. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Telegram Mini App –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
cd backend
npm run bot  # –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
# –í–ê–ñ–ù–û: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ TELEGRAM_BOT_TOKEN –≤ .env
# –≠—Ç–æ—Ç —Ç–æ–∫–µ–Ω –Ω—É–∂–µ–Ω –¥–ª—è Mini App –∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

# 8. –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü)
npm run prisma:push
# –ü—Ä–∏–º–µ–Ω–∏—Ç –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏: Message, Promocode, PromocodeUsage, Referral
```

### ‚ö†Ô∏è –í–∞–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–î–ª—è —Ä–∞–±–æ—Ç—ã push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Telegram:
1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤ `backend/.env` –∫–∞–∫ `TELEGRAM_BOT_TOKEN`
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ —Ö–æ—Ç—è –±—ã —Ä–∞–∑ (`/start`)
4. –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –∏—Ö `telegramId`
5. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –±–æ—Ç —Å–º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

```

## 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### Frontend:
*   `src/app/`: –û—Å–Ω–æ–≤–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
    *   `src/app/(app)/`: –ì—Ä—É–ø–ø–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –≤–æ–¥–∏—Ç–µ–ª–µ–π).
    *   `src/app/page.tsx`: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ä–æ–ª–∏.
*   `src/components/`: –í—Å–µ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –≤–∫–ª—é—á–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `shadcn/ui` –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ:
    *   `header.tsx` - –®–∞–ø–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    *   `map-2gis.tsx` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç 2GIS
    *   `top-up-balance.tsx` - –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ —á–µ—Ä–µ–∑ –ÆKassa
    *   `review-form.tsx` - –§–æ—Ä–º–∞ –æ—Ç–∑—ã–≤–æ–≤
*   `src/context/AppContext.tsx`: **–ö–ª—é—á–µ–≤–æ–π —Ñ–∞–π–ª!** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ä–∞–±–æ—Ç–∞–µ—Ç —Å backend API.
*   `src/lib/`: –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã.
    *   `types.ts`: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Å–µ—Ö TypeScript-—Ç–∏–ø–æ–≤.
    *   `api.ts`: API –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å backend.
    *   `telegram.ts`: –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è Telegram Mini App SDK.

### Backend:
*   `backend/src/controllers/`: –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã API:
    *   `users.controller.ts` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–∏
    *   `orders.controller.ts` - –ó–∞–∫–∞–∑—ã —É—Å–ª—É–≥
    *   `marketplace.controller.ts` - –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å
    *   `payments.controller.ts` - –ü–ª–∞—Ç–µ–∂–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    *   `reviews.controller.ts` - –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏
    *   `admin.controller.ts` - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
    *   `chat.controller.ts` - **NEW!** –ß–∞—Ç –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ –≤–æ–¥–∏—Ç–µ–ª–µ–º
    *   `analytics.controller.ts` - **NEW!** –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    *   `bonuses.controller.ts` - **NEW!** –ü—Ä–æ–º–æ–∫–æ–¥—ã –∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã
*   `backend/src/routes/`: –ú–∞—Ä—à—Ä—É—Ç—ã Express –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.
*   `backend/src/middleware/`: Middleware (auth, admin).
*   `backend/src/utils/`: –£—Ç–∏–ª–∏—Ç—ã:
    *   `yookassa.ts` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
    *   `telegram-notifications.ts` - **NEW!** –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Telegram Bot API
*   `backend/prisma/schema.prisma`: –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å –º–æ–¥–µ–ª—è–º–∏:
    *   `User`, `Order`, `Shop`, `Product`, `Transaction`, `Review`
    *   `Message` - **NEW!** –°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞
    *   `Promocode`, `PromocodeUsage`, `Referral` - **NEW!** –ë–æ–Ω—É—Å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

## 5. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Telegram Mini App  ‚îÇ
‚îÇ   (User Interface)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚îÇ HTTPS + WebSocket
           ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Backend API        ‚îÇ
‚îÇ  (Express + Socket)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚îÇ Prisma ORM
           ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   PostgreSQL DB      ‚îÇ
‚îÇ  (User, Orders, etc) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **Telegram Mini App**: –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ Telegram –∫–∞–∫ Mini App
- **API Backend**: RESTful API + WebSocket –¥–ª—è real-time —Ñ—É–Ω–∫—Ü–∏–π
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL —Å Prisma ORM
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –ß–µ—Ä–µ–∑ Telegram initData (–±–µ–∑ –ø–∞—Ä–æ–ª–µ–π!)
- **Real-time**: WebSocket –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–æ–¥–∏—Ç–µ–ª—è –∏ —á–∞—Ç–∞
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: Telegram Bot API –¥–ª—è push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–ü–ª–∞—Ç–µ–∂–∏**: –ÆKassa –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –∏ –≤—ã–≤–æ–¥–æ–≤
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º

### 5.1 –°–∏—Å—Ç–µ–º–∞ —á–∞—Ç–∞ (Real-time Messaging)

–ß–∞—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ –±–∞–∑–µ Socket.IO –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—â–∞—Ç—å—Å—è –∫–ª–∏–µ–Ω—Ç—É –∏ –≤–æ–¥–∏—Ç–µ–ª—é –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- –ö–∞–∂–¥—ã–π –∑–∞–∫–∞–∑ –∏–º–µ–µ—Ç —Å–≤–æ–π —á–∞—Ç-–∫–∞–Ω–∞–ª (`chat:${orderId}`)
- –ò–∑–æ–ª—è—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π: —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∏–∞–ª–æ–≥–∏
- –û—Ç–º–µ—Ç–∫–∏ –æ –ø—Ä–æ—á—Ç–µ–Ω–∏–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- –ü–æ–¥—Å—á–µ—Ç –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ –∑–∞–∫–∞–∑—É
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —á–∞—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –ø—Ä–∏ –Ω–æ–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- WebSocket —Å–æ–±—ã—Ç–∏—è: `chat:join`, `chat:send`, `chat:message`, `chat:mark-read`
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î –º–æ–¥–µ–ª—å `Message` —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (—Ç–æ–ª—å–∫–æ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∑–∞–∫–∞–∑–∞)

### 5.2 –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (Telegram Bot API)

–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Telegram Bot:

**–¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**
- üöó –ù–æ–≤—ã–π –∑–∞–∫–∞–∑ –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª—è
- ‚úÖ –í–æ–¥–∏—Ç–µ–ª—å –ø—Ä–∏–Ω—è–ª –∑–∞–∫–∞–∑
- üèÅ –ó–∞–∫–∞–∑ –∑–∞–≤–µ—Ä—à–µ–Ω
- üí¨ –ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ
- üí∞ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
- üí∏ –û–±—Ä–∞–±–æ—Ç–∞–Ω –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤
- ‚≠ê –ü–æ–ª—É—á–µ–Ω –Ω–æ–≤—ã–π –æ—Ç–∑—ã–≤
- üéÅ –ù–∞—á–∏—Å–ª–µ–Ω –±–æ–Ω—É—Å –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ
- üéüÔ∏è –ü—Ä–∏–º–µ–Ω–µ–Ω –ø—Ä–æ–º–æ–∫–æ–¥

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- HTML-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∑–∞–∫–∞–∑—ã
- Emoji –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–µ—Å–ª–∏ –±–æ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
- –£—Ç–∏–ª–∏—Ç–∞ `telegram-notifications.ts` –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 5.3 –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–î–µ—Ç–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤:

**–î–ª—è –≤–æ–¥–∏—Ç–µ–ª–µ–π:**
- –û–±—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –∏ —á–∏—Å—Ç—ã–π –¥–æ—Ö–æ–¥ (–ø–æ—Å–ª–µ 10% –∫–æ–º–∏—Å—Å–∏–∏)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥
- –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
- –†–∞–∑–±–∏–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º —É—Å–ª—É–≥ (–æ—Ç–æ–≥—Ä–µ–≤, —Ç–æ–ø–ª–∏–≤–æ, —ç–≤–∞–∫—É–∞—Ü–∏—è –∏ —Ç.–¥.)
- –ì—Ä–∞—Ñ–∏–∫ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –ø–æ –¥–Ω—è–º
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: –¥–µ–Ω—å, –Ω–µ–¥–µ–ª—è, –º–µ—Å—è—Ü, –≥–æ–¥

**–î–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤:**
- –û–±—â–∞—è —Å—É–º–º–∞ –ø—Ä–æ–¥–∞–∂
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤
- –¢–æ–ø-5 —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –º–∞–≥–∞–∑–∏–Ω–µ
- –°—Ä–µ–¥–Ω–∏–π —á–µ–∫

**–ü—É–±–ª–∏—á–Ω—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∏:**
- –¢–æ–ø –≤–æ–¥–∏—Ç–µ–ª–µ–π –ø–æ –∑–∞—Ä–∞–±–æ—Ç–∫—É
- –†–µ–π—Ç–∏–Ω–≥ —Å –æ—Ç–∑—ã–≤–∞–º–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–∞–∫–∞–∑–æ–≤

### 5.4 –ë–æ–Ω—É—Å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

–ú–æ—â–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ —Å –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏ –∏ —Ä–µ—Ñ–µ—Ä–∞–ª–∞–º–∏:

**–ü—Ä–æ–º–æ–∫–æ–¥—ã (3 —Ç–∏–ø–∞):**
1. **–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å–∫–∏–¥–∫–∞** (discount_percent) - –Ω–∞–ø—Ä–∏–º–µ—Ä, 10% –Ω–∞ –∑–∞–∫–∞–∑
2. **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∫–∏–¥–∫–∞** (discount_fixed) - –Ω–∞–ø—Ä–∏–º–µ—Ä, 100‚ÇΩ –Ω–∞ –∑–∞–∫–∞–∑
3. **–ë–æ–Ω—É—Å –Ω–∞ –±–∞–ª–∞–Ω—Å** (bonus_balance) - –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ —Å—á–µ—Ç

**–§—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤:**
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–¥–Ω–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:**
- –£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- 100‚ÇΩ –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–º—É –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- 50‚ÇΩ –Ω–æ–≤–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –ø–æ–¥–∞—Ä–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–∏ –±–æ–Ω—É—Å–æ–≤

**–ó–∞—â–∏—Ç–∞:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∞–º–æ—Ä–µ—Ñ–µ—Ä–∞–ª
- –û–¥–∏–Ω –±–æ–Ω—É—Å –Ω–∞ –æ–¥–Ω—É –ø–∞—Ä—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

## 6. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (Feature List)

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- üîê **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram** (–±–µ–∑ SMS –∏ –ø–∞—Ä–æ–ª–µ–π)
- üöó **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤** –Ω–∞ –æ—Ç–æ–≥—Ä–µ–≤, –¥–æ—Å—Ç–∞–≤–∫—É —Ç–æ–ø–ª–∏–≤–∞, —ç–≤–∞–∫—É–∞—Ü–∏—é
- ü§ñ **AI –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** —Å Qwen –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —É—Å–ª—É–≥ (Ollama/DashScope/OpenAI)
- üë®‚Äçüîß **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–¥–∏—Ç–µ–ª–µ–π** —Å –≤—ã–±–æ—Ä–æ–º —É—Å–ª—É–≥
- üìç **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** (WebSocket + 2GIS –∫–∞—Ä—Ç–∞)
- üõí **–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å** —Å —Ç–æ–≤–∞—Ä–∞–º–∏ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–∏—Å—Ç–æ–≤
- üí∞ **–ë–∞–ª–∞–Ω—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** —Å –∫–æ–º–∏—Å—Å–∏–µ–π 10%
- üè™ **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤** –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏
- üì¶ **–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤** –∏–∑ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
- üó∫Ô∏è **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è 2GIS** –¥–ª—è –∫–∞—Ä—Ç –Ø–∫—É—Ç—Å–∫–∞

**–ü–ª–∞—Ç–µ–∂–∏ –∏ —Ñ–∏–Ω–∞–Ω—Å—ã:**
- üí≥ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ÆKassa** –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ (Visa, MasterCard, –ú–∏—Ä, –°–ë–ü)
- üí∏ **–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤** –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ (–Ω–∞ –∫–∞—Ä—Ç—É –∏–ª–∏ –ÆMoney)
- üìä **–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π
- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏** —Å 3D-Secure

**–†–µ–π—Ç–∏–Ω–≥–∏ –∏ –æ—Ç–∑—ã–≤—ã:**
- ‚≠ê **–°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤** (1-5 –∑–≤–µ–∑–¥) –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª–µ–π
- üí¨ **–û—Ç–∑—ã–≤—ã** –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
- üìà **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç** —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞
- üëÄ **–ü—É–±–ª–∏—á–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏** —Å –æ—Ç–∑—ã–≤–∞–º–∏

**–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:**
- üë®‚Äçüíº **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- ‚úÖ **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–æ–¥–∏—Ç–µ–ª–µ–π** –∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
- üì¶ **–ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤** (–æ–¥–æ–±—Ä–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ)
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üë• **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** –∏ –ø—Ä–∞–≤–∞–º–∏

**–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
- üí¨ **–ß–∞—Ç –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ –≤–æ–¥–∏—Ç–µ–ª–µ–º** (WebSocket real-time)
- üì® **–ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π** —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ –æ –ø—Ä–æ—á—Ç–µ–Ω–∏–∏
- üîî **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram Bot API**:
  - –ù–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª–µ–π
  - –ü—Ä–∏–Ω—è—Ç–∏–µ/–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
  - –ù–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ
  - –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –∏ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤
  - –ë–æ–Ω—É—Å—ã –∏ –ø—Ä–æ–º–æ–∫–æ–¥—ã

**–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- üìä **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª–µ–π** —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º (–¥–µ–Ω—å/–Ω–µ–¥–µ–ª—è/–º–µ—Å—è—Ü/–≥–æ–¥):
  - –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –∏ –¥–æ—Ö–æ–¥ –ø–æ—Å–ª–µ –∫–æ–º–∏—Å—Å–∏–∏
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –∏ —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫
  - –†–∞–∑–±–∏–≤–∫–∞ –ø–æ —É—Å–ª—É–≥–∞–º
  - –ì—Ä–∞—Ñ–∏–∫ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –ø–æ –¥–Ω—è–º
- üìà **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤**:
  - –ü—Ä–æ–¥–∞–∂–∏ –∏ –¥–æ—Ö–æ–¥
  - –¢–æ–ø —Ç–æ–≤–∞—Ä–æ–≤
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞
- üèÜ **–ü—É–±–ª–∏—á–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥** —Ç–æ–ø-–≤–æ–¥–∏—Ç–µ–ª–µ–π

**–ë–æ–Ω—É—Å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞:**
- üéÅ **–ü—Ä–æ–º–æ–∫–æ–¥—ã** —Ç—Ä–µ—Ö —Ç–∏–ø–æ–≤:
  - –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å–∫–∏–¥–∫–∞
  - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∫–∏–¥–∫–∞
  - –ë–æ–Ω—É—Å –Ω–∞ –±–∞–ª–∞–Ω—Å
- üë• **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**:
  - –£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞
  - 100‚ÇΩ –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–º—É
  - 50‚ÇΩ –Ω–æ–≤–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤
- üîí **–ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π** (–ª–∏–º–∏—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)

### üöß –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è

- üì± **Telegram Stars** –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
- üéØ **–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è** —Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏
- üìÖ **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤** –Ω–∞ –±—É–¥—É—â–µ–µ –≤—Ä–µ–º—è

## 7. API Endpoints

–°–º. –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ [backend/README.md](./backend/README.md)

### –û—Å–Ω–æ–≤–Ω—ã–µ –≥—Ä—É–ø–ø—ã API:

- **Users** (`/api/users/*`) - –ü—Ä–æ—Ñ–∏–ª–∏, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–¥–∏—Ç–µ–ª–µ–π/–ø—Ä–æ–¥–∞–≤—Ü–æ–≤, –±–∞–ª–∞–Ω—Å
- **Orders** (`/api/orders/*`) - –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ —É—Å–ª—É–≥
- **Marketplace** (`/api/marketplace/*`) - –ú–∞–≥–∞–∑–∏–Ω—ã, —Ç–æ–≤–∞—Ä—ã, –∫–æ—Ä–∑–∏–Ω–∞, –∑–∞–∫–∞–∑—ã
- **Payments** (`/api/payments/*`) - –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞, –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–ÆKassa)
- **Reviews** (`/api/reviews/*`) - –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏ –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
- **Admin** (`/api/admin/*`) - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è, –º–æ–¥–µ—Ä–∞—Ü–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- **Chat** (`/api/chat/*`) - –ß–∞—Ç –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ –≤–æ–¥–∏—Ç–µ–ª–µ–º
  - `GET /conversations` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —á–∞—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `GET /unread-count` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
  - `GET /:orderId/messages` - –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ –∑–∞–∫–∞–∑—É
  - `POST /:orderId/send` - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- **Analytics** (`/api/analytics/*`) - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
  - `GET /driver?period=month` - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª—è (day/week/month/year)
  - `GET /seller?period=month` - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–∞
  - `GET /top-drivers` - –ü—É–±–ª–∏—á–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ –≤–æ–¥–∏—Ç–µ–ª–µ–π
- **Bonuses** (`/api/bonuses/*`) - –ü—Ä–æ–º–æ–∫–æ–¥—ã –∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã
  - `POST /apply-promocode` - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥
  - `POST /confirm-promocode-usage` - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
  - `GET /referral-link` - –ü–æ–ª—É—á–∏—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É
  - `POST /register-referral` - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª–∞
  - `POST /promocodes` - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ (–∞–¥–º–∏–Ω)
  - `GET /promocodes` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ (–∞–¥–º–∏–Ω)

## 8. WebSocket Events

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª—è:
- **–û—Ç –≤–æ–¥–∏—Ç–µ–ª—è**: `driver:location` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- **–ö –∫–ª–∏–µ–Ω—Ç—É**: `driver:location:update` - –Ω–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è –≤–æ–¥–∏—Ç–µ–ª—è

### –ß–∞—Ç (real-time messaging):
- **–û—Ç –∫–ª–∏–µ–Ω—Ç–∞**: `chat:join` - –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ —á–∞—Ç—É –∑–∞–∫–∞–∑–∞
  ```js
  socket.emit('chat:join', orderId)
  ```
- **–û—Ç –∫–ª–∏–µ–Ω—Ç–∞**: `chat:send` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
  ```js
  socket.emit('chat:send', { orderId, senderId, receiverId, content })
  ```
- **–ö –æ–±–µ–∏–º —Å—Ç–æ—Ä–æ–Ω–∞–º**: `chat:message` - –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ
  ```js
  socket.on('chat:message', (message) => { /* –æ–±–Ω–æ–≤–∏—Ç—å UI */ })
  ```
- **–û—Ç –∫–ª–∏–µ–Ω—Ç–∞**: `chat:mark-read` - –ø–æ–º–µ—Ç–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º–∏
  ```js
  socket.emit('chat:mark-read', { orderId, userId })
  ```
- **–ö –æ–±–µ–∏–º —Å—Ç–æ—Ä–æ–Ω–∞–º**: `chat:messages-read` - —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–æ—á–∏—Ç–∞–Ω—ã
  ```js
  socket.on('chat:messages-read', ({ orderId, userId }) => { /* –æ–±–Ω–æ–≤–∏—Ç—å UI */ })
  ```

## 9. –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö API

### –ß–∞—Ç –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ –≤–æ–¥–∏—Ç–µ–ª–µ–º

```typescript
// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —á–∞—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const response = await fetch('/api/chat/conversations', {
  headers: { Authorization: `Bearer ${token}` }
});
const conversations = await response.json();

// –ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ –∑–∞–∫–∞–∑—É
const messages = await fetch(`/api/chat/${orderId}/messages`);

// –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
await fetch(`/api/chat/${orderId}/send`, {
  method: 'POST',
  body: JSON.stringify({ content: '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!' })
});

// –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
socket.emit('chat:join', orderId);
socket.on('chat:message', (message) => {
  // –û–±–Ω–æ–≤–∏—Ç—å UI —Å –Ω–æ–≤—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
});
```

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª—è

```typescript
// –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ –º–µ—Å—è—Ü
const analytics = await fetch('/api/analytics/driver?period=month', {
  headers: { Authorization: `Bearer ${token}` }
});

// –û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
// {
//   summary: { totalRevenue, earnings, ordersCount, avgOrderValue },
//   serviceBreakdown: [{ service, count, revenue }],
//   dailyStats: [{ date, revenue, ordersCount }]
// }
```

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞

```typescript
// 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥
const validation = await fetch('/api/bonuses/apply-promocode', {
  method: 'POST',
  body: JSON.stringify({
    code: 'WELCOME2024',
    orderAmount: 1000
  })
});

// –û—Ç–≤–µ—Ç: { valid: true, discountAmount: 100, finalAmount: 900 }

// 2. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
await fetch('/api/bonuses/confirm-promocode-usage', {
  method: 'POST',
  body: JSON.stringify({
    code: 'WELCOME2024',
    orderId: '...'
  })
});
```

### –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

```typescript
// –ü–æ–ª—É—á–∏—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É
const response = await fetch('/api/bonuses/referral-link', {
  headers: { Authorization: `Bearer ${token}` }
});
const { referralLink } = await response.json();
// –ù–∞–ø—Ä–∏–º–µ—Ä: https://t.me/YakGoBot?start=ref_user123

// –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª–∞ (–ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
await fetch('/api/bonuses/register-referral', {
  method: 'POST',
  body: JSON.stringify({
    referralCode: 'user123' // –ò–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ start
  }),
  headers: { Authorization: `Bearer ${newUserToken}` }
});
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏—Å–ª–∏—Ç 100‚ÇΩ –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–º—É –∏ 50‚ÇΩ –Ω–æ–≤–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞ (–∞–¥–º–∏–Ω)

```typescript
await fetch('/api/bonuses/promocodes', {
  method: 'POST',
  body: JSON.stringify({
    code: 'NEWYEAR2024',
    type: 'discount_percent', // –∏–ª–∏ 'discount_fixed', 'bonus_balance'
    value: 15, // 15% —Å–∫–∏–¥–∫–∞
    maxUses: 100, // –ú–∞–∫—Å–∏–º—É–º 100 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
    expiresAt: '2024-12-31T23:59:59Z'
  }),
  headers: { Authorization: `Bearer ${adminToken}` }
});
```

## 10. Deployment (Production)

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:

**Frontend:**
- Vercel (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Next.js)
- Netlify
- Railway
- –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–æ Compute Cloud

**Backend:**
- –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–æ Compute Cloud ‚≠ê **[–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è](./DEPLOYMENT_YANDEX.md)**
- Railway (–≤–∫–ª—é—á–∞–µ—Ç PostgreSQL)
- Heroku
- Digital Ocean

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–æ Managed PostgreSQL ‚≠ê **[–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è](./DEPLOYMENT_YANDEX.md)**
- Railway PostgreSQL
- Supabase
- Neon

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é:

- üá∑üá∫ **[–î–µ–ø–ª–æ–π –¥–ª—è –†–§ (VK Cloud, Timeweb)](./DEPLOYMENT_RU.md)** ‚≠ê - –†–æ—Å—Å–∏–π—Å–∫–∏–µ –æ–±–ª–∞–∫–∞ —Å –±–æ–Ω—É—Å–∞–º–∏, –æ—Ç 249‚ÇΩ/–º–µ—Å
- ‚ö° **[–ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ Vercel](./DEPLOYMENT_VERCEL.md)** - Frontend + Backend + DB –Ω–∞ Vercel (—Ç—Ä–µ–±—É–µ—Ç—Å—è VPN)
- üÜì **[–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–µ–ø–ª–æ–π –¥–ª—è —Ç–µ—Å—Ç–æ–≤](./DEPLOYMENT_FREE.md)** - Vercel + Render + Supabase (—Ç—Ä–µ–±—É–µ—Ç—Å—è VPN)
- üè¢ **[–î–µ–ø–ª–æ–π –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–æ](./DEPLOYMENT_YANDEX.md)** - –î–ª—è –∫—Ä—É–ø–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ (~5000‚ÇΩ/–º–µ—Å)
- üìñ **[–û–±—â–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è](./INSTALLATION.md)** - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è –ª—é–±–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

## 11. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Frontend (.env.local):
```env
NEXT_PUBLIC_API_URL=http://localhost:3001/api
NEXT_PUBLIC_WS_URL=http://localhost:3001
NEXT_PUBLIC_2GIS_API_KEY=your-key

# AI (Qwen) - –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç
OLLAMA_ENABLED=true              # Ollama (–ª–æ–∫–∞–ª—å–Ω–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
# DASHSCOPE_API_KEY=sk-xxx       # Alibaba Cloud DashScope
# OPENAI_API_KEY=sk-xxx          # OpenAI –∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API
```

### Backend (.env):
```env
DATABASE_URL=postgresql://...
PORT=3001
JWT_SECRET=your-secret
TELEGRAM_BOT_TOKEN=your-token    # –î–ª—è Mini App –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
FRONTEND_URL=http://localhost:9002

# –ÆKassa (–ø–ª–∞—Ç–µ–∂–∏)
YOOKASSA_SHOP_ID=your-shop-id
YOOKASSA_SECRET_KEY=your-secret-key

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
NODE_ENV=development
```

## 12. AI –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (Qwen)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–±–ª–µ–º –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —É—Å–ª—É–≥.

**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Ollama (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Ollama
brew install ollama  # macOS
# –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Å https://ollama.com

# 2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å Qwen
ollama pull qwen2.5:7b

# 3. –î–æ–±–∞–≤—å—Ç–µ –≤ .env.local
echo "OLLAMA_ENABLED=true" >> .env.local

# 4. –ì–æ—Ç–æ–≤–æ! AI —Ä–∞–±–æ—Ç–∞–µ—Ç
```

**–î—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**
- Alibaba Cloud DashScope (–æ–±–ª–∞–∫–æ)
- OpenAI API –∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- Fallback (–∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞) - –±–µ–∑ AI

–°–º. –ø–æ–ª–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: **[AI_SETUP.md](./AI_SETUP.md)**

## 13. FAQ (–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã)

### –ß–∞—Ç –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**Q: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è?**
A: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Telegram Bot API –Ω–∞–ø—Ä—è–º—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º. –î–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω —Ö–æ—Ç—è –±—ã —Ä–∞–∑ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/start`.

**Q: –ü–æ—á–µ–º—É –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è?**
A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. `TELEGRAM_BOT_TOKEN` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `.env`
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å—Ç–∏–ª –±–æ—Ç–∞ (`/start`)
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –±–æ—Ç–∞
4. –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω `telegramId` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Q: –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞?**
A: –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î (—Ç–∞–±–ª–∏—Ü–∞ `Message`) –∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ API. WebSocket –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è real-time –¥–æ—Å—Ç–∞–≤–∫–∏.

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

**Q: –ö–∞–∫ —Å—á–∏—Ç–∞–µ—Ç—Å—è –¥–æ—Ö–æ–¥ –≤–æ–¥–∏—Ç–µ–ª—è?**
A: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –±–µ—Ä–µ—Ç 10% –∫–æ–º–∏—Å—Å–∏–∏. –ï—Å–ª–∏ –∑–∞–∫–∞–∑ —Å—Ç–æ–∏–ª 1000‚ÇΩ, –≤–æ–¥–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç 900‚ÇΩ (earnings = totalRevenue * 0.9).

**Q: –ö–∞–∫–∏–µ –ø–µ—Ä–∏–æ–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏?**
A: –î–µ–Ω—å (day), –Ω–µ–¥–µ–ª—è (week), –º–µ—Å—è—Ü (month), –≥–æ–¥ (year). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `?period=month`.

### –ë–æ–Ω—É—Å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑?**
A: –ù–µ—Ç, –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑. –¢–∞–∫–∂–µ –µ—Å—Ç—å –æ–±—â–∏–π –ª–∏–º–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π (`maxUses`).

**Q: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Ä–µ—Ñ–µ—Ä–∞–ª—ã?**
A: –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ:
- –ü—Ä–∏–≥–ª–∞—Å–∏–≤—à–∏–π –ø–æ–ª—É—á–∞–µ—Ç 100‚ÇΩ
- –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç 50‚ÇΩ
- –ë–æ–Ω—É—Å –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–¥–∏–Ω —Ä–∞–∑

**Q: –ì–¥–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã?**
A: –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã —á–µ—Ä–µ–∑ `POST /api/bonuses/promocodes`.

### –ü–ª–∞—Ç–µ–∂–∏

**Q: –ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ÆKassa?**
A: –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã (Visa, MasterCard, –ú–∏—Ä), –°–ë–ü, –ÆMoney, Qiwi –∏ –¥—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã.

**Q: –ö–∞–∫ –≤—ã–≤–µ—Å—Ç–∏ –¥–µ–Ω—å–≥–∏?**
A: –ß–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª "–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤" –≤ –ø—Ä–æ—Ñ–∏–ª–µ. –£–∫–∞–∂–∏—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∫–∞—Ä—Ç—ã –∏–ª–∏ –ÆMoney. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–π–º–µ—Ç 1-3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è.

## 14. Contributing

1. Fork –ø—Ä–æ–µ–∫—Ç
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## 15. License

MIT

## 16. Changelog (–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π)

### v2.0.0 (–Ø–Ω–≤–∞—Ä—å 2026) - –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –∏ –±–æ–Ω—É—Å—ã üéâ

**–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —á–∞—Ç–∞ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ –≤–æ–¥–∏—Ç–µ–ª–µ–º (WebSocket)
- ‚úÖ Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram Bot API
- ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- ‚úÖ –ë–æ–Ω—É—Å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏ (3 —Ç–∏–ø–∞)
- ‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –±–æ–Ω—É—Å–∞–º–∏

**Backend:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã: `chat`, `analytics`, `bonuses`
- –ù–æ–≤–∞—è —É—Ç–∏–ª–∏—Ç–∞: `telegram-notifications.ts`
- –ù–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –ë–î: `Message`, `Promocode`, `PromocodeUsage`, `Referral`

**Frontend:**
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `TopUpBalance` –≤ –ø—Ä–æ—Ñ–∏–ª—å
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ReviewForm` –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞–∫–∞–∑–æ–≤

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
- –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –û—á–∏—â–µ–Ω –∫–æ–¥ –æ—Ç legacy –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### v1.0.0 (–î–µ–∫–∞–±—Ä—å 2025) - –ü–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –∞–≤—Ç–æ–ø–æ–º–æ—â—å
- AI –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å Qwen
- Real-time –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª—è
- –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ÆKassa
- –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –∏ –æ—Ç–∑—ã–≤–æ–≤
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

---

**–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –∞–≤—Ç–æ–≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –Ø–∫—É—Ç–∏–∏**
