# –î–µ–ø–ª–æ–π YakGo –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–æ

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞ YakGo (Frontend + Backend + Database) –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
3. [–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL](#—à–∞–≥-1-—Å–æ–∑–¥–∞–Ω–∏–µ-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
4. [–®–∞–≥ 2: –î–µ–ø–ª–æ–π Backend (Compute Cloud)](#—à–∞–≥-2-–¥–µ–ø–ª–æ–π-backend)
5. [–®–∞–≥ 3: –î–µ–ø–ª–æ–π Frontend (Vercel/Compute Cloud)](#—à–∞–≥-3-–¥–µ–ø–ª–æ–π-frontend)
6. [–®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–æ–≤ –∏ SSL](#—à–∞–≥-4-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–¥–æ–º–µ–Ω–æ–≤)
7. [–®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot](#—à–∞–≥-5-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-telegram-bot)
8. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
9. [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Telegram Mini App (Client)             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ HTTPS
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚Üì                         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend       ‚îÇ      ‚îÇ   Backend API    ‚îÇ
‚îÇ   (Vercel –∏–ª–∏    ‚îÇ      ‚îÇ   (Compute Cloud)‚îÇ
‚îÇ   Compute Cloud) ‚îÇ      ‚îÇ   + WebSocket    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                    ‚îÇ
                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                          ‚Üì                    ‚Üì
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îÇ   PostgreSQL     ‚îÇ  ‚îÇ  Telegram Bot  ‚îÇ
                ‚îÇ (Managed Service)‚îÇ  ‚îÇ      API       ‚îÇ
                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –ê–∫–∫–∞—É–Ω—Ç –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–æ

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://cloud.yandex.ru/
2. –°–æ–∑–¥–∞–π—Ç–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –∏ –∫–∞—Ç–∞–ª–æ–≥ (folder)
3. –ü—Ä–∏–≤—è–∂–∏—Ç–µ –±–∞–Ω–∫–æ–≤—Å–∫—É—é –∫–∞—Ä—Ç—É (–ø—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥ 60 –¥–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ, 4000‚ÇΩ –Ω–∞ –±–∞–ª–∞–Ω—Å)

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Yandex Cloud CLI
curl https://storage.yandexcloud.net/yandexcloud-yc/install.sh | bash

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ
yc --version

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è CLI
yc init
# –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ (folder) –¥–ª—è —Ä–∞–±–æ—Ç—ã
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

```bash
# Docker (–¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤)
# macOS:
brew install docker docker-compose

# Linux:
sudo apt-get update
sudo apt-get install docker.io docker-compose

# Node.js 18+ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
node --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 18
```

---

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –í–∞—Ä–∏–∞–Ω—Ç A: Managed Service for PostgreSQL (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### 1.1 –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–∞: https://console.cloud.yandex.ru/
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Managed Service for PostgreSQL**
3. –ù–∞–∂–º–∏—Ç–µ **–°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä**

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞:**
- **–ò–º—è:** `yakgo-db`
- **–û–∫—Ä—É–∂–µ–Ω–∏–µ:** `PRODUCTION`
- **–í–µ—Ä—Å–∏—è:** `PostgreSQL 14`
- **–ö–ª–∞—Å—Å —Ö–æ—Å—Ç–∞:** `s2.micro` (2 vCPU, 8 GB RAM) –¥–ª—è —Å—Ç–∞—Ä—Ç–∞
- **–†–∞–∑–º–µ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞:** 20 GB (SSD)
- **–°–µ—Ç—å:** –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é
- **–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø:** ‚úÖ –í–∫–ª—é—á–∏—Ç–µ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –ë–î:**
- **–ò–º—è –ë–î:** `yakgo`
- **–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** `yakgo_user`
- **–ü–∞—Ä–æ–ª—å:** –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å

4. –ù–∞–∂–º–∏—Ç–µ **–°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä** (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–π–º–µ—Ç 5-10 –º–∏–Ω—É—Ç)

#### 1.2 –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ —á–µ—Ä–µ–∑ CLI

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
yc managed-postgresql cluster create \
  --name yakgo-db \
  --environment production \
  --network-name default \
  --postgresql-version 14 \
  --resource-preset s2.micro \
  --disk-type network-ssd \
  --disk-size 20 \
  --user name=yakgo_user,password=YOUR_STRONG_PASSWORD \
  --database name=yakgo,owner=yakgo_user \
  --host zone-id=ru-central1-a,subnet-name=default-ru-central1-a,assign-public-ip=true

# –ü–æ–ª—É—á–∏—Ç–µ —Ö–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
yc managed-postgresql cluster list-hosts yakgo-db
```

#### 1.3 –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞ –ø–æ–ª—É—á–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```bash
# –§–æ—Ä–º–∞—Ç —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
DATABASE_URL="postgresql://yakgo_user:YOUR_PASSWORD@c-XXXXXX.rw.mdb.yandexcloud.net:6432/yakgo?sslmode=require"
```

**–ì–¥–µ –Ω–∞–π—Ç–∏ —Ö–æ—Å—Ç:**
1. –í –∫–æ–Ω—Å–æ–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –∫–ª–∞—Å—Ç–µ—Ä `yakgo-db`
2. –í–∫–ª–∞–¥–∫–∞ **–•–æ—Å—Ç—ã** ‚Üí —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ FQDN —Ö–æ—Å—Ç–∞
3. –ü–æ—Ä—Ç –æ–±—ã—á–Ω–æ `6432`

#### 1.4 –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
# –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É
git clone https://github.com/Fakesuka/studio.git
cd studio/backend

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
cat > .env << EOF
DATABASE_URL="postgresql://yakgo_user:YOUR_PASSWORD@c-XXXXXX.rw.mdb.yandexcloud.net:6432/yakgo?sslmode=require"
EOF

# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
npm run prisma:push

# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
npm run prisma:seed
```

---

## –®–∞–≥ 2: –î–µ–ø–ª–æ–π Backend

### –í–∞—Ä–∏–∞–Ω—Ç A: Compute Cloud VM (–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞)

#### 2.1 –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã

```bash
# –°–æ–∑–¥–∞–π—Ç–µ VM —á–µ—Ä–µ–∑ CLI
yc compute instance create \
  --name yakgo-backend \
  --zone ru-central1-a \
  --network-interface subnet-name=default-ru-central1-a,nat-ip-version=ipv4 \
  --create-boot-disk image-folder-id=standard-images,image-family=ubuntu-2204-lts,size=20 \
  --memory 2GB \
  --cores 2 \
  --core-fraction 100 \
  --ssh-key ~/.ssh/id_rsa.pub

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π IP –∞–¥—Ä–µ—Å
yc compute instance get yakgo-backend | grep -A 5 one_to_one_nat
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å:**
1. Compute Cloud ‚Üí –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã ‚Üí –°–æ–∑–¥–∞—Ç—å –í–ú
2. **–ò–º—è:** `yakgo-backend`
3. **–ó–æ–Ω–∞:** `ru-central1-a`
4. **–û–±—Ä–∞–∑:** Ubuntu 22.04 LTS
5. **–î–∏—Å–∫:** 20 GB SSD
6. **–ü–∞–º—è—Ç—å:** 2 GB RAM, 2 vCPU
7. **–ü—É–±–ª–∏—á–Ω—ã–π IP:** –í–∫–ª—é—á–∏—Ç–µ
8. **SSH –∫–ª—é—á:** –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á

#### 2.2 –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VM

```bash
# –ü–æ–ª—É—á–∏—Ç–µ IP –∞–¥—Ä–µ—Å
export VM_IP=$(yc compute instance get yakgo-backend --format json | jq -r '.network_interfaces[0].primary_v4_address.one_to_one_nat.address')

# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –ø–æ SSH
ssh ubuntu@$VM_IP
```

#### 2.3 –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ VM

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É
sudo apt-get update && sudo apt-get upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js 18
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PM2 (–º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤)
sudo npm install -g pm2

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Git
sudo apt-get install -y git

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏
node --version  # v18.x
npm --version   # 9.x
pm2 --version
```

#### 2.4 –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Backend

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
cd ~
git clone https://github.com/Fakesuka/studio.git
cd studio/backend

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–æ–±–µ—Ä–∏—Ç–µ TypeScript
npm run build

# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
cat > .env << 'EOF'
# Database
DATABASE_URL="postgresql://yakgo_user:YOUR_PASSWORD@c-XXXXXX.rw.mdb.yandexcloud.net:6432/yakgo?sslmode=require"

# Server
PORT=3001
NODE_ENV=production

# JWT
JWT_SECRET="YOUR_SUPER_SECRET_JWT_KEY_CHANGE_THIS"

# Telegram Bot
TELEGRAM_BOT_TOKEN="1234567890:ABCdefGHIjklMNOpqrsTUVwxyz"
TELEGRAM_BOT_SECRET="your_bot_secret"

# Frontend URL (–æ–±–Ω–æ–≤–∏—Ç–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è frontend)
FRONTEND_URL="https://your-frontend-domain.vercel.app"

# –ÆKassa
YOOKASSA_SHOP_ID="your_shop_id"
YOOKASSA_SECRET_KEY="your_secret_key"
EOF

# –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ .env –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ
nano .env  # –∏–ª–∏ vim .env

# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
npm run prisma:push
```

#### 2.5 –ó–∞–ø—É—Å—Ç–∏—Ç–µ Backend —Å PM2

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 start dist/index.js --name yakgo-backend

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
pm2 startup
pm2 save

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
pm2 status
pm2 logs yakgo-backend

# –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç –≤ firewall (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
sudo ufw allow 3001/tcp
```

#### 2.6 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (reverse proxy + SSL)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Nginx
sudo apt-get install -y nginx

# –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo nano /etc/nginx/sites-available/yakgo-backend

# –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
```

```nginx
server {
    listen 80;
    server_name api.yourdomain.com;  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω

    # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è WebSocket
    proxy_connect_timeout 7d;
    proxy_send_timeout 7d;
    proxy_read_timeout 7d;

    location / {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;

        # WebSocket support
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";

        # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

```bash
# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo ln -s /etc/nginx/sites-available/yakgo-backend /etc/nginx/sites-enabled/

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo nginx -t

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Nginx
sudo systemctl restart nginx

# –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl enable nginx
```

#### 2.7 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SSL —Å Certbot (Let's Encrypt)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Certbot
sudo apt-get install -y certbot python3-certbot-nginx

# –ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω)
sudo certbot --nginx -d api.yourdomain.com

# Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
# –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é "2" –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ HTTP ‚Üí HTTPS

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot renew --dry-run
```

–¢–µ–ø–µ—Ä—å Backend –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `https://api.yourdomain.com`

---

## –®–∞–≥ 3: –î–µ–ø–ª–æ–π Frontend

### –í–∞—Ä–∏–∞–Ω—Ç A: Vercel (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Next.js)

#### 3.1 –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã
cd ~/studio
git add .
git commit -m "Deploy configuration"
git push origin main
```

#### 3.2 –î–µ–ø–ª–æ–π –Ω–∞ Vercel

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://vercel.com/ –∏ –≤–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub
2. –ù–∞–∂–º–∏—Ç–µ **New Project**
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `studio`
4. **Framework:** Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç Next.js
5. **Root Directory:** –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
6. **Build Command:** `npm run build` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
7. **Output Directory:** `.next` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

#### 3.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Vercel –¥–æ–±–∞–≤—å—Ç–µ:

```env
# API Backend
NEXT_PUBLIC_API_URL=https://api.yourdomain.com/api
NEXT_PUBLIC_WS_URL=https://api.yourdomain.com

# 2GIS Maps
NEXT_PUBLIC_2GIS_API_KEY=your_2gis_api_key

# AI (Qwen) - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
OLLAMA_ENABLED=false
# DASHSCOPE_API_KEY=sk-xxx
# OPENAI_API_KEY=sk-xxx
```

8. –ù–∞–∂–º–∏—Ç–µ **Deploy**

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è Vercel –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç URL —Ç–∏–ø–∞: `https://studio-abc123.vercel.app`

#### 3.4 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ ‚Üí **Domains**
2. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω: `app.yourdomain.com`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏ —É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
   ```
   Type: CNAME
   Name: app
   Value: cname.vercel-dns.com
   ```

### –í–∞—Ä–∏–∞–Ω—Ç B: Compute Cloud VM

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å Frontend —Ç–æ–∂–µ –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ:

```bash
# –ù–∞ —Ç–æ–π –∂–µ VM –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é
cd ~/studio

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–æ–∑–¥–∞–π—Ç–µ .env.local
cat > .env.local << EOF
NEXT_PUBLIC_API_URL=https://api.yourdomain.com/api
NEXT_PUBLIC_WS_URL=https://api.yourdomain.com
NEXT_PUBLIC_2GIS_API_KEY=your_key
EOF

# –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–¥–∞–∫—à–Ω –≤–µ—Ä—Å–∏—é
npm run build

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å PM2
pm2 start npm --name yakgo-frontend -- start

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx –¥–ª—è Frontend
sudo nano /etc/nginx/sites-available/yakgo-frontend
```

```nginx
server {
    listen 80;
    server_name app.yourdomain.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

```bash
sudo ln -s /etc/nginx/sites-available/yakgo-frontend /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
sudo certbot --nginx -d app.yourdomain.com
```

---

## –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–æ–≤

### 4.1 DNS –∑–∞–ø–∏—Å–∏

–£ –≤–∞—à–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, reg.ru, timeweb.com) —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–ø–∏—Å–∏:

```
# Backend API
Type: A
Name: api
Value: <IP –∞–¥—Ä–µ—Å VM —Å Backend>
TTL: 3600

# Frontend (–µ—Å–ª–∏ –Ω–∞ —Å–≤–æ–µ–π VM)
Type: A
Name: app
Value: <IP –∞–¥—Ä–µ—Å VM —Å Frontend>
TTL: 3600

# –ò–ª–∏ –¥–ª—è Vercel Frontend:
Type: CNAME
Name: app
Value: cname.vercel-dns.com
TTL: 3600
```

### 4.2 –û–±–Ω–æ–≤–∏—Ç–µ FRONTEND_URL –≤ Backend

```bash
# –ù–∞ VM —Å Backend
ssh ubuntu@$VM_IP
cd ~/studio/backend
nano .env

# –ò–∑–º–µ–Ω–∏—Ç–µ FRONTEND_URL –Ω–∞:
FRONTEND_URL=https://app.yourdomain.com

# –ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Vercel:
FRONTEND_URL=https://studio-abc123.vercel.app

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Backend
pm2 restart yakgo-backend
```

---

## –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

### 5.1 –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
3. –£–∫–∞–∂–∏—Ç–µ –∏–º—è: `YakGo`
4. –£–∫–∞–∂–∏—Ç–µ username: `YakGoBot` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–≤–æ–±–æ–¥–µ–Ω)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ –æ—Ç–≤–µ—Ç–∞

### 5.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mini App

```bash
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ BotFather –∫–æ–º–∞–Ω–¥—É:
/setmenubutton

# –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
# –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏: –û—Ç–∫—Ä—ã—Ç—å YakGo
# –í–≤–µ–¥–∏—Ç–µ URL: https://app.yourdomain.com

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ
/setdescription
# –í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (512x512 PNG)
/setuserpic
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ª–æ–≥–æ—Ç–∏–ø
```

### 5.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Web App

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç —Å BotFather
/myapps

# –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
# New Web App ‚Üí –≤–≤–µ–¥–∏—Ç–µ URL: https://app.yourdomain.com
# Short Name: yakgo
```

### 5.4 Webhook –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π (–ÆKassa)

```bash
# –í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –ÆKassa –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ webhook:
URL: https://api.yourdomain.com/api/payments/webhook/yookassa
–ú–µ—Ç–æ–¥: POST

# –°–æ–±—ã—Ç–∏—è:
‚úÖ payment.succeeded
‚úÖ payment.canceled
‚úÖ payout.succeeded
‚úÖ payout.canceled
```

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ Backend

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ PM2
pm2 logs yakgo-backend

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
pm2 logs yakgo-backend --lines 100

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
pm2 logs yakgo-backend --err

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 monit
```

### –õ–æ–≥–∏ Nginx

```bash
# Access logs
sudo tail -f /var/log/nginx/access.log

# Error logs
sudo tail -f /var/log/nginx/error.log
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–∞
2. Managed Service for PostgreSQL ‚Üí yakgo-db
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –≥—Ä–∞—Ñ–∏–∫–∏ CPU, RAM, IOPS, connections

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç PM2
npm install -g pm2-telegram

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ
pm2 install pm2-telegram
pm2 set pm2-telegram:token <BOT_TOKEN>
pm2 set pm2-telegram:chat_id <YOUR_CHAT_ID>
```

---

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### Backend

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VM
ssh ubuntu@$VM_IP

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd ~/studio/backend

# –ü–æ–ª—É—á–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
git pull origin main

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
npm install

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ
npm run build

# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
npm run prisma:push

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 restart yakgo-backend

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs yakgo-backend --lines 50
```

### Frontend (Vercel)

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∏ push –≤ GitHub:

```bash
cd ~/studio
git add .
git commit -m "Update frontend"
git push origin main

# Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç –¥–µ–ø–ª–æ–π
# –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞ https://vercel.com/dashboard
```

### Frontend (Compute Cloud)

```bash
ssh ubuntu@$VM_IP
cd ~/studio

git pull origin main
npm install
npm run build

pm2 restart yakgo-frontend
```

---

## –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ –≤ Managed PostgreSQL
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:
# 1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–ª–∞—Å—Ç–µ—Ä yakgo-db
# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
# 3. –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞: 03:00
# 4. –•—Ä–∞–Ω–∏—Ç—å: 7 –¥–Ω–µ–π

# –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ backup
yc managed-postgresql cluster backup yakgo-db

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ backup
yc managed-postgresql cluster restore \
  --backup-id <backup_id> \
  --name yakgo-db-restored
```

### –§–∞–π–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞–π—Ç–µ snapshot –¥–∏—Å–∫–∞ VM
yc compute snapshot create \
  --disk-name yakgo-backend-disk \
  --name yakgo-backend-snapshot-$(date +%Y%m%d)

# –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ cron
crontab -e

# –î–æ–±–∞–≤—å—Ç–µ (–∫–∞–∂–¥—É—é –Ω–æ—á—å –≤ 2:00):
0 2 * * * yc compute snapshot create --disk-name yakgo-backend-disk --name yakgo-backend-snapshot-$(date +\%Y\%m\%d)
```

---

## –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ (–±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤)

```bash
# –£–≤–µ–ª–∏—á—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã VM
yc compute instance update yakgo-backend \
  --memory 4GB \
  --cores 4

# –ò–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å: –í–ú ‚Üí –ò–∑–º–µ–Ω–∏—Ç—å
```

### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ (–±–æ–ª—å—à–µ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤)

```bash
# –°–æ–∑–¥–∞–π—Ç–µ Load Balancer
yc load-balancer network-load-balancer create \
  --name yakgo-lb \
  --region-id ru-central1 \
  --target-group target-group-id=...,subnet-id=...

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Application Load Balancer –¥–ª—è WebSocket
```

---

## –°—Ç–æ–∏–º–æ—Å—Ç—å (–ø—Ä–∏–º–µ—Ä–Ω–∞—è)

**–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- **Compute Cloud VM** (2 vCPU, 2GB RAM): ~1500‚ÇΩ/–º–µ—Å—è—Ü
- **PostgreSQL** (s2.micro): ~3000‚ÇΩ/–º–µ—Å—è—Ü
- **–¢—Ä–∞—Ñ–∏–∫** (100 GB): ~150‚ÇΩ/–º–µ—Å—è—Ü
- **–î–∏—Å–∫–∏** (40 GB SSD): ~400‚ÇΩ/–º–µ—Å—è—Ü

**–ò—Ç–æ–≥–æ:** ~5000‚ÇΩ/–º–µ—Å—è—Ü (~$55/–º–µ—Å—è—Ü)

**Frontend –Ω–∞ Vercel:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (hobby tier)

---

## Troubleshooting

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs yakgo-backend --err

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç
sudo netstat -tulpn | grep 3001

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cd ~/studio/backend && cat .env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
npm run prisma:studio  # –û—Ç–∫—Ä–æ–µ—Ç GUI –Ω–∞ –ø–æ—Ä—Ç—É 5555
```

### WebSocket –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
sudo nginx -t
sudo cat /etc/nginx/sites-enabled/yakgo-backend

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∏:
# proxy_set_header Upgrade $http_upgrade;
# proxy_set_header Connection "upgrade";
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–ª–∞—Å—Ç–µ—Ä–∞
yc managed-postgresql cluster get yakgo-db

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ö–æ—Å—Ç—ã
yc managed-postgresql cluster list-hosts yakgo-db

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
psql "postgresql://yakgo_user:PASSWORD@c-XXX.rw.mdb.yandexcloud.net:6432/yakgo?sslmode=require"
```

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Yandex Cloud](https://cloud.yandex.ru/docs)
- [Managed PostgreSQL](https://cloud.yandex.ru/docs/managed-postgresql/)
- [Compute Cloud](https://cloud.yandex.ru/docs/compute/)
- [SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã](https://cloud.yandex.ru/docs/certificate-manager/)
- [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥](https://cloud.yandex.ru/docs/monitoring/)

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs yakgo-backend`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Yandex Cloud
3. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏: https://github.com/Fakesuka/studio/issues

**–£—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è! üöÄ**
