# Ð”ÐµÐ¿Ð»Ð¾Ð¹ YakGo Ð´Ð»Ñ Ñ€Ð¾ÑÑÐ¸Ð¹ÑÐºÐ¸Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹

ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ Ð¿Ð¾ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸ÑŽ YakGo Ð½Ð° **Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ñ… Ð² Ð Ð¾ÑÑÐ¸Ð¸** Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð°Ñ… Ñ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ð¼Ð¸ Ð¸ Ð½ÐµÐ´Ð¾Ñ€Ð¾Ð³Ð¸Ð¼Ð¸ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð°Ð¼Ð¸.

## ðŸ‡·ðŸ‡º ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ñ Ð·Ð°Ð¿Ð°Ð´Ð½Ñ‹Ð¼Ð¸ ÑÐµÑ€Ð²Ð¸ÑÐ°Ð¼Ð¸

**ÐÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ð¸Ð»Ð¸ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ñ‹ Ð² Ð Ð¤:**
- âŒ Vercel - Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½
- âŒ Render.com - Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½
- âŒ Supabase - Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð¾Ð¼
- âŒ Railway - Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½
- âŒ AWS, Google Cloud, Azure - Ð·Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹ Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð¸ Ð¸Ð· Ð Ð¤

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ñ€Ð¾ÑÑÐ¸Ð¹ÑÐºÐ¸Ðµ Ð¾Ð±Ð»Ð°Ñ‡Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð²Ð°Ð¹Ð´ÐµÑ€Ñ‹ Ð¸ Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹.

---

## Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1: VK Cloud (Mail.ru Cloud) - Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ ðŸŽ

### ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ VK Cloud?

**ÐŸÐ»ÑŽÑÑ‹:**
- âœ… **3000â‚½ Ð±Ð¾Ð½ÑƒÑ** Ð¿Ñ€Ð¸ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ (Ñ…Ð²Ð°Ñ‚Ð¸Ñ‚ Ð½Ð° 3-6 Ð¼ÐµÑÑÑ†ÐµÐ²)
- âœ… ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ
- âœ… Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼
- âœ… ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° 24/7 Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼
- âœ… ÐžÐ¿Ð»Ð°Ñ‚Ð° Ñ€Ð¾ÑÑÐ¸Ð¹ÑÐºÐ¸Ð¼Ð¸ ÐºÐ°Ñ€Ñ‚Ð°Ð¼Ð¸ (Visa, Mastercard, ÐœÐ˜Ð )
- âœ… Managed PostgreSQL
- âœ… Kubernetes Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ðµ VM

**Ð¡Ñ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¿Ð¾ÑÐ»Ðµ Ð±Ð¾Ð½ÑƒÑÐ°:**
- VM (2 vCPU, 2 GB RAM): ~500â‚½/Ð¼ÐµÑÑÑ†
- PostgreSQL (1 vCPU, 2 GB RAM): ~1500â‚½/Ð¼ÐµÑÑÑ†
- **Ð˜Ñ‚Ð¾Ð³Ð¾:** ~2000â‚½/Ð¼ÐµÑÑÑ† (~$22)

### Ð¨Ð°Ð³ 1: Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð² VK Cloud

1. ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð½Ð° https://mcs.mail.ru/app/
2. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ **Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ**
3. Ð’Ð¾Ð¹Ð´Ð¸Ñ‚Ðµ Ñ‡ÐµÑ€ÐµÐ· VK Ð¸Ð»Ð¸ ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ð¿Ð¾ email
4. ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ email Ð¸ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½
5. **ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ 3000â‚½ Ð½Ð° ÑÑ‡ÐµÑ‚!** ðŸŽ‰

### Ð¨Ð°Ð³ 2: Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… PostgreSQL

#### 2.1 Ð§ÐµÑ€ÐµÐ· Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ

1. Ð’ Ð»ÐµÐ²Ð¾Ð¼ Ð¼ÐµÐ½ÑŽ Ð²Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ **Ð‘Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…** â†’ **Ð˜Ð½ÑÑ‚Ð°Ð½ÑÑ‹ Ð‘Ð”**
2. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ **Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¸Ð½ÑÑ‚Ð°Ð½Ñ**

**ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸:**
- **Ð¢Ð¸Ð¿ Ð‘Ð”:** PostgreSQL
- **Ð’ÐµÑ€ÑÐ¸Ñ:** 14 Ð¸Ð»Ð¸ 15
- **ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ:** Single
- **Ð˜Ð¼Ñ Ð¸Ð½ÑÑ‚Ð°Ð½ÑÐ°:** `yakgo-db`
- **ÐšÐ»Ð°ÑÑ VM:** STD2-2-4 (2 vCPU, 4 GB RAM) Ð´Ð»Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°
- **Ð¢Ð¸Ð¿ Ð´Ð¸ÑÐºÐ°:** SSD
- **Ð Ð°Ð·Ð¼ÐµÑ€ Ð´Ð¸ÑÐºÐ°:** 20 GB
- **Ð¡ÐµÑ‚ÑŒ:** default
- **Ð˜Ð¼Ñ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…:** `yakgo`
- **ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ:** `yakgo_user`
- **ÐŸÐ°Ñ€Ð¾Ð»ÑŒ:** Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð½Ð°Ð´ÐµÐ¶Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ

3. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ **Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð‘Ð”** (Ð·Ð°Ð¹Ð¼ÐµÑ‚ 5-10 Ð¼Ð¸Ð½ÑƒÑ‚)

#### 2.2 ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ

ÐŸÐ¾ÑÐ»Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ:

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð½ÑƒÑŽ Ð‘Ð”
2. Ð’ÐºÐ»Ð°Ð´ÐºÐ° **Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ**
3. ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ **Ð¥Ð¾ÑÑ‚** (Ð¿Ð¾Ñ…Ð¾Ð¶ Ð½Ð°: `yakgo-db-XXXX.databases.mcs.mail.ru`)
4. **ÐŸÐ¾Ñ€Ñ‚:** Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ `5432`

**Ð¡Ñ‚Ñ€Ð¾ÐºÐ° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ:**
```
postgresql://yakgo_user:YOUR_PASSWORD@yakgo-db-XXXX.databases.mcs.mail.ru:5432/yakgo?sslmode=require
```

#### 2.3 ÐŸÑ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¹

ÐÐ° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¼Ð°ÑˆÐ¸Ð½Ðµ:

```bash
cd ~/studio/backend

# Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ .env
cat > .env << 'EOF'
DATABASE_URL="postgresql://yakgo_user:YOUR_PASSWORD@yakgo-db-XXXX.databases.mcs.mail.ru:5432/yakgo?sslmode=require"
EOF

# Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð½Ð° Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ
nano .env

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
npm install

# ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
npm run prisma:push

# Ð¢ÐµÑÑ‚Ð¾Ð²Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
npm run prisma:seed
```

### Ð¨Ð°Ð³ 3: Ð”ÐµÐ¿Ð»Ð¾Ð¹ Backend Ð½Ð° VM

#### 3.1 Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¼Ð°ÑˆÐ¸Ð½Ñ‹

1. **ÐžÐ±Ð»Ð°Ñ‡Ð½Ñ‹Ðµ Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ñ** â†’ **Ð’Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð¼Ð°ÑˆÐ¸Ð½Ñ‹**
2. **Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¸Ð½ÑÑ‚Ð°Ð½Ñ**

**ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸:**
- **Ð˜Ð¼Ñ:** `yakgo-backend`
- **ÐžÐ¿ÐµÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°:** Ubuntu 22.04 LTS
- **ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ:** Basic
- **Ð¢Ð¸Ð¿ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸:** STD2-2-4 (2 vCPU, 4 GB RAM)
- **Ð”Ð¸ÑÐº:** 20 GB SSD
- **Ð¡ÐµÑ‚ÑŒ:** default (Ð¸Ð»Ð¸ ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð½Ð¾Ð²ÑƒÑŽ)
- **ÐÐ°Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ÑŒ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ IP:** âœ… Ð”Ð°
- **ÐšÐ»ÑŽÑ‡ SSH:** Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¸Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹

3. **Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¸Ð½ÑÑ‚Ð°Ð½Ñ**

#### 3.2 ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Firewall (Ð²Ð°Ð¶Ð½Ð¾!)

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð½ÑƒÑŽ VM â†’ Ð²ÐºÐ»Ð°Ð´ÐºÐ° **Firewall**
2. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ **Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾**

**ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° Ð´Ð»Ñ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ:**

| ÐÐ°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ | ÐŸÐ¾Ñ€Ñ‚ | ÐŸÑ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» | CIDR |
|-------------|------|----------|------|
| Ð’Ñ…Ð¾Ð´ÑÑ‰Ð¸Ð¹ | 22 | TCP | 0.0.0.0/0 (SSH) |
| Ð’Ñ…Ð¾Ð´ÑÑ‰Ð¸Ð¹ | 80 | TCP | 0.0.0.0/0 (HTTP) |
| Ð’Ñ…Ð¾Ð´ÑÑ‰Ð¸Ð¹ | 443 | TCP | 0.0.0.0/0 (HTTPS) |
| Ð’Ñ…Ð¾Ð´ÑÑ‰Ð¸Ð¹ | 3001 | TCP | 0.0.0.0/0 (Backend) |

#### 3.3 ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº VM

```bash
# ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ IP Ð°Ð´Ñ€ÐµÑ Ð¸Ð· ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ VK Cloud
export VM_IP=Ð’ÐÐ¨_IP_ÐÐ”Ð Ð•Ð¡

# ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ
ssh ubuntu@$VM_IP
```

#### 3.4 Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ

```bash
# ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ
sudo apt-get update && sudo apt-get upgrade -y

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Node.js 18
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ PM2
sudo npm install -g pm2

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Git
sudo apt-get install -y git

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð²ÐµÑ€ÑÐ¸Ð¸
node --version  # v18.x
npm --version
pm2 --version
```

#### 3.5 ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Backend

```bash
# ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
cd ~
git clone https://github.com/Fakesuka/studio.git
cd studio/backend

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
npm install

# Ð¡Ð¾Ð±ÐµÑ€Ð¸Ñ‚Ðµ TypeScript
npm run build

# Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ .env Ñ„Ð°Ð¹Ð»
cat > .env << 'EOF'
# Database (VK Cloud PostgreSQL)
DATABASE_URL="postgresql://yakgo_user:YOUR_PASSWORD@yakgo-db-XXXX.databases.mcs.mail.ru:5432/yakgo?sslmode=require"

# Server
PORT=3001
NODE_ENV=production

# JWT Secret
JWT_SECRET="Ð²Ð°Ñˆ_ÑÑƒÐ¿ÐµÑ€_ÑÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹_ÐºÐ»ÑŽÑ‡_32_ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°_Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼"

# Telegram Bot
TELEGRAM_BOT_TOKEN="Ð²Ð°Ñˆ_Ñ‚Ð¾ÐºÐµÐ½_Ð¾Ñ‚_BotFather"
TELEGRAM_BOT_SECRET="Ð²Ð°Ñˆ_ÑÐµÐºÑ€ÐµÑ‚"

# Frontend URL (Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð¿Ð¾ÑÐ»Ðµ Ð´ÐµÐ¿Ð»Ð¾Ñ frontend)
FRONTEND_URL="https://Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru"

# Ð®Kassa
YOOKASSA_SHOP_ID="Ð²Ð°Ñˆ_shop_id"
YOOKASSA_SECRET_KEY="Ð²Ð°Ñˆ_secret_key"
EOF

# ÐžÑ‚Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ .env
nano .env

# ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
npm run prisma:push
```

#### 3.6 Ð—Ð°Ð¿ÑƒÑÐº Backend Ñ PM2

```bash
# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ
pm2 start dist/index.js --name yakgo-backend

# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð°Ð²Ñ‚Ð¾Ð·Ð°Ð¿ÑƒÑÐº
pm2 startup
# Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ, ÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ Ð¿Ð¾ÐºÐ°Ð¶ÐµÑ‚ PM2

pm2 save

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÑ‚Ð°Ñ‚ÑƒÑ
pm2 status
pm2 logs yakgo-backend
```

#### 3.7 ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Nginx

```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Nginx
sudo apt-get install -y nginx

# Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ
sudo nano /etc/nginx/sites-available/yakgo-backend
```

Ð’ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ:

```nginx
server {
    listen 80;
    server_name Ð’ÐÐ¨_IP Ð¸Ð»Ð¸ api.Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru;

    # Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°ÐµÐ¼ Ñ‚Ð°Ð¹Ð¼Ð°ÑƒÑ‚Ñ‹ Ð´Ð»Ñ WebSocket
    proxy_connect_timeout 7d;
    proxy_send_timeout 7d;
    proxy_read_timeout 7d;

    location / {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;

        # WebSocket support
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";

        # Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

```bash
# ÐÐºÑ‚Ð¸Ð²Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ
sudo ln -s /etc/nginx/sites-available/yakgo-backend /etc/nginx/sites-enabled/

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ
sudo nginx -t

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Nginx
sudo systemctl restart nginx
sudo systemctl enable nginx
```

#### 3.8 SSL ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚ (Certbot)

```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Certbot
sudo apt-get install -y certbot python3-certbot-nginx

# ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚ (Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð½Ð° Ð²Ð°Ñˆ Ð´Ð¾Ð¼ÐµÐ½)
sudo certbot --nginx -d api.Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru

# Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¾Ð¿Ñ†Ð¸ÑŽ 2 (redirect HTTP â†’ HTTPS)

# Ð¢ÐµÑÑ‚ Ð°Ð²Ñ‚Ð¾Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ
sudo certbot renew --dry-run
```

**Backend Ð³Ð¾Ñ‚Ð¾Ð²!** Ð”Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ: `https://api.Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru`

---

### Ð¨Ð°Ð³ 4: Ð”ÐµÐ¿Ð»Ð¾Ð¹ Frontend

#### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ A: ÐÐ° Ñ‚Ð¾Ð¹ Ð¶Ðµ VM

```bash
# ÐÐ° VM
cd ~/studio

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
npm install

# Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ .env.local
cat > .env.local << EOF
NEXT_PUBLIC_API_URL=https://api.Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru/api
NEXT_PUBLIC_WS_URL=https://api.Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru
NEXT_PUBLIC_2GIS_API_KEY=Ð²Ð°Ñˆ_ÐºÐ»ÑŽÑ‡
EOF

# Ð¡Ð¾Ð±ÐµÑ€Ð¸Ñ‚Ðµ
npm run build

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ñ PM2
pm2 start npm --name yakgo-frontend -- start

# Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚Ðµ
pm2 save
```

**ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Nginx Ð´Ð»Ñ Frontend:**

```bash
sudo nano /etc/nginx/sites-available/yakgo-frontend
```

```nginx
server {
    listen 80;
    server_name app.Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

```bash
sudo ln -s /etc/nginx/sites-available/yakgo-frontend /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx

# SSL Ð´Ð»Ñ frontend
sudo certbot --nginx -d app.Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru
```

#### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ B: Timeweb Cloud Frontend Ñ…Ð¾ÑÑ‚Ð¸Ð½Ð³

Timeweb Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÐµÑ‚ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ…Ð¾ÑÑ‚Ð¸Ð½Ð³ Ð´Ð»Ñ Next.js:

1. ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð½Ð° https://timeweb.cloud/
2. **Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ** â†’ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ Ð±Ð¾Ð½ÑƒÑÑ‹
3. **Ð¥Ð¾ÑÑ‚Ð¸Ð½Ð³** â†’ **Node.js Ñ…Ð¾ÑÑ‚Ð¸Ð½Ð³**
4. Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ð¸Ð»Ð¸ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Git
5. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

**Ð¡Ñ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ:** Ð¾Ñ‚ 200â‚½/Ð¼ÐµÑÑÑ†

---

### Ð¨Ð°Ð³ 5: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð´Ð¾Ð¼ÐµÐ½Ð°

#### Ð•ÑÐ»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚Ðµ ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð´Ð¾Ð¼ÐµÐ½:

1. ÐšÑƒÐ¿Ð¸Ñ‚Ðµ Ð´Ð¾Ð¼ÐµÐ½ Ð½Ð° **REG.RU**, **Timeweb** Ð¸Ð»Ð¸ **Nic.ru**
2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ DNS Ð·Ð°Ð¿Ð¸ÑÐ¸:

```
# Backend
Type: A
Name: api
Value: IP_ÐÐ”Ð Ð•Ð¡_Ð’ÐÐ¨Ð•Ð™_VM
TTL: 3600

# Frontend (ÐµÑÐ»Ð¸ Ð½Ð° Ñ‚Ð¾Ð¹ Ð¶Ðµ VM)
Type: A
Name: app
Value: IP_ÐÐ”Ð Ð•Ð¡_Ð’ÐÐ¨Ð•Ð™_VM
TTL: 3600
```

3. Ð”Ð¾Ð¶Ð´Ð¸Ñ‚ÐµÑÑŒ Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ DNS (Ð´Ð¾ 24 Ñ‡Ð°ÑÐ¾Ð², Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ 1-2 Ñ‡Ð°ÑÐ°)

---

### Ð¨Ð°Ð³ 6: Telegram Bot

1. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð±Ð¾Ñ‚Ð° Ñ‡ÐµÑ€ÐµÐ· [@BotFather](https://t.me/BotFather)
2. `/newbot` â†’ ÑƒÐºÐ°Ð¶Ð¸Ñ‚Ðµ Ð¸Ð¼Ñ Ð¸ username
3. Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚Ðµ Ñ‚Ð¾ÐºÐµÐ½ Ð² `.env` Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ
4. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Mini App:

```
/newapp
# ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ: YakGo
# URL: https://app.Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru
# Short name: yakgo
```

5. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ backend:

```bash
ssh ubuntu@$VM_IP
cd ~/studio/backend
nano .env  # ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ TELEGRAM_BOT_TOKEN
pm2 restart yakgo-backend
```

---

## Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2: Timeweb Cloud (ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð°)

### ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Timeweb?

**ÐŸÐ»ÑŽÑÑ‹:**
- âœ… Ð Ð¾ÑÑÐ¸Ð¹ÑÐºÐ¸Ð¹ Ð¿Ñ€Ð¾Ð²Ð°Ð¹Ð´ÐµÑ€
- âœ… ÐŸÑ€Ð¾Ð±Ð½Ñ‹Ð¹ Ð¿ÐµÑ€Ð¸Ð¾Ð´ Ñ Ð±Ð¾Ð½ÑƒÑÐ°Ð¼Ð¸
- âœ… ÐžÑ‡ÐµÐ½ÑŒ Ð½Ð¸Ð·ÐºÐ¸Ðµ Ñ†ÐµÐ½Ñ‹
- âœ… ÐŸÑ€Ð¾ÑÑ‚Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ
- âœ… ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼

**Ð¡Ñ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ:**
- VPS (2 Ð“Ð‘ RAM, 1 vCPU): Ð¾Ñ‚ 249â‚½/Ð¼ÐµÑÑÑ†
- PostgreSQL: Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð½Ð° Ñ‚Ð¾Ð¹ Ð¶Ðµ VPS
- **Ð˜Ñ‚Ð¾Ð³Ð¾:** Ð¾Ñ‚ 249â‚½/Ð¼ÐµÑÑÑ† (~$3)

### Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚ Ð½Ð° Timeweb

1. Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ: https://timeweb.cloud/
2. **ÐžÐ±Ð»Ð°Ñ‡Ð½Ñ‹Ðµ ÑÐµÑ€Ð²ÐµÑ€Ñ‹** â†’ **Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÐµÑ€Ð²ÐµÑ€**
3. **ÐžÐ¡:** Ubuntu 22.04
4. **Ð¢Ð°Ñ€Ð¸Ñ„:** ÐÐ°Ñ‡Ð°Ð»ÑŒÐ½Ñ‹Ð¹ (2 Ð“Ð‘, 1 vCPU) - 249â‚½/Ð¼ÐµÑ
5. Ð¡Ð»ÐµÐ´ÑƒÐ¹Ñ‚Ðµ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸ÑÐ¼ Ð¸Ð· Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð° 1 Ð´Ð»Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸

**PostgreSQL Ð½Ð° Ñ‚Ð¾Ð¹ Ð¶Ðµ VPS:**

```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ PostgreSQL
sudo apt-get install -y postgresql postgresql-contrib

# Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð‘Ð” Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
sudo -u postgres psql

CREATE DATABASE yakgo;
CREATE USER yakgo_user WITH ENCRYPTED PASSWORD 'Ð²Ð°Ñˆ_Ð¿Ð°Ñ€Ð¾Ð»ÑŒ';
GRANT ALL PRIVILEGES ON DATABASE yakgo TO yakgo_user;
\q

# Ð¡Ñ‚Ñ€Ð¾ÐºÐ° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ
DATABASE_URL="postgresql://yakgo_user:Ð²Ð°Ñˆ_Ð¿Ð°Ñ€Ð¾Ð»ÑŒ@localhost:5432/yakgo"
```

---

## Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 3: Selectel (Ð”Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°)

**ÐŸÐ»ÑŽÑÑ‹:**
- âœ… ÐÐ°Ð´ÐµÐ¶Ð½Ñ‹Ð¹ Ñ€Ð¾ÑÑÐ¸Ð¹ÑÐºÐ¸Ð¹ Ð¿Ñ€Ð¾Ð²Ð°Ð¹Ð´ÐµÑ€
- âœ… Ð¥Ð¾Ñ€Ð¾ÑˆÐ°Ñ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ
- âœ… Managed PostgreSQL
- âœ… Kubernetes

**Ð¡Ñ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ:**
- VPS (2 vCPU, 4 GB): ~900â‚½/Ð¼ÐµÑÑÑ†
- PostgreSQL (managed): ~1200â‚½/Ð¼ÐµÑÑÑ†

**Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ:** https://selectel.ru/

ÐŸÑ€Ð¾Ñ†ÐµÑÑ Ð´ÐµÐ¿Ð»Ð¾Ñ Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ñ‡ÐµÐ½ VK Cloud.

---

## Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 4: Ð¯Ð½Ð´ÐµÐºÑ.ÐžÐ±Ð»Ð°ÐºÐ¾ (ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ ÑƒÐ¶Ðµ ÐµÑÑ‚ÑŒ)

Ð¡Ð¼. [DEPLOYMENT_YANDEX.md](./DEPLOYMENT_YANDEX.md)

**Ð¡Ñ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ:** ~5000â‚½/Ð¼ÐµÑÑÑ†
**Ð›ÑƒÑ‡ÑˆÐ¸Ð¹ Ð²Ñ‹Ð±Ð¾Ñ€ Ð´Ð»Ñ:** ÐšÑ€ÑƒÐ¿Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð² Ñ Ð²Ñ‹ÑÐ¾ÐºÐ¸Ð¼Ð¸ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸ÑÐ¼Ð¸

---

## Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 5: Self-hosted (Ð‘ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾)

Ð•ÑÐ»Ð¸ Ñƒ Ð²Ð°Ñ ÐµÑÑ‚ÑŒ ÑÐ²Ð¾Ð¹ ÑÐµÑ€Ð²ÐµÑ€ Ð¸Ð»Ð¸ Ð´Ð¾Ð¼Ð°ÑˆÐ½Ð¸Ð¹ ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€ Ñ Ð¿Ð¾ÑÑ‚Ð¾ÑÐ½Ð½Ñ‹Ð¼ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ð¾Ð¼:

### Ð§Ñ‚Ð¾ Ð½ÑƒÐ¶Ð½Ð¾:

- ÐšÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€/ÑÐµÑ€Ð²ÐµÑ€ Ñ Linux
- Ð¡Ñ‚Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ IP Ð¸Ð»Ð¸ DynDNS
- ÐŸÑ€Ð¾Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¿Ð¾Ñ€Ñ‚Ñ‹ 80, 443 Ð½Ð° Ñ€Ð¾ÑƒÑ‚ÐµÑ€Ðµ

### Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°:

```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚
git clone https://github.com/Fakesuka/studio.git
cd studio

# Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ docker-compose.yml (ÑÐ¼. Ð½Ð¸Ð¶Ðµ)
```

**docker-compose.yml:**

```yaml
version: '3.8'

services:
  postgres:
    image: postgres:14-alpine
    environment:
      POSTGRES_DB: yakgo
      POSTGRES_USER: yakgo_user
      POSTGRES_PASSWORD: Ð²Ð°Ñˆ_Ð¿Ð°Ñ€Ð¾Ð»ÑŒ
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"

  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    environment:
      DATABASE_URL: postgresql://yakgo_user:Ð²Ð°Ñˆ_Ð¿Ð°Ñ€Ð¾Ð»ÑŒ@postgres:5432/yakgo
      PORT: 3001
      NODE_ENV: production
      JWT_SECRET: Ð²Ð°Ñˆ_ÑÐµÐºÑ€ÐµÑ‚
      TELEGRAM_BOT_TOKEN: Ð²Ð°Ñˆ_Ñ‚Ð¾ÐºÐµÐ½
      FRONTEND_URL: http://Ð²Ð°Ñˆ-ip:3000
    ports:
      - "3001:3001"
    depends_on:
      - postgres

  frontend:
    build:
      context: .
      dockerfile: Dockerfile
    environment:
      NEXT_PUBLIC_API_URL: http://Ð²Ð°Ñˆ-ip:3001/api
      NEXT_PUBLIC_WS_URL: http://Ð²Ð°Ñˆ-ip:3001
    ports:
      - "3000:3000"
    depends_on:
      - backend

volumes:
  postgres_data:
```

```bash
# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ
docker-compose up -d

# ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
docker-compose exec backend npx prisma push
```

**Ð”Ð¾ÑÑ‚ÑƒÐ¿:**
- Frontend: `http://Ð²Ð°Ñˆ-ip:3000`
- Backend: `http://Ð²Ð°Ñˆ-ip:3001`

---

## Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð¾Ð²

| Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ | Ð¡Ñ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ/Ð¼ÐµÑ | Ð‘Ð¾Ð½ÑƒÑÑ‹ | Ð¡Ð»Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ | Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ |
|---------|---------------|--------|-----------|-------------------|
| **VK Cloud** | ~2000â‚½ | **3000â‚½ Ð±Ð¾Ð½ÑƒÑ** | Ð¡Ñ€ÐµÐ´Ð½ÑÑ | Ð¢ÐµÑÑ‚Ñ‹, MVP, ÑÑ€ÐµÐ´Ð½Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹ |
| **Timeweb** | Ð¾Ñ‚ 249â‚½ | Ð•ÑÑ‚ÑŒ | ÐÐ¸Ð·ÐºÐ°Ñ | ÐÐ°Ñ‡Ð¸Ð½Ð°ÑŽÑ‰Ð¸Ðµ, Ð¼Ð°Ð»Ñ‹Ð¹ Ð±ÑŽÐ´Ð¶ÐµÑ‚ |
| **Selectel** | ~2100â‚½ | ÐÐµÑ‚ | Ð¡Ñ€ÐµÐ´Ð½ÑÑ | ÐŸÑ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½, Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾ÑÑ‚ÑŒ |
| **Ð¯Ð½Ð´ÐµÐºÑ.ÐžÐ±Ð»Ð°ÐºÐ¾** | ~5000â‚½ | 4000â‚½ | Ð’Ñ‹ÑÐ¾ÐºÐ°Ñ | ÐšÑ€ÑƒÐ¿Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹ |
| **Self-hosted** | 0â‚½ | - | Ð’Ñ‹ÑÐ¾ÐºÐ°Ñ | Ð­Ð½Ñ‚ÑƒÐ·Ð¸Ð°ÑÑ‚Ñ‹, Ñ‚ÐµÑÑ‚Ñ‹ |

---

## Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ ÑÑ‚Ð°Ñ€Ñ‚Ð°

### Ð”Ð»Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ (0-3 Ð¼ÐµÑÑÑ†Ð°):

**ðŸ† VK Cloud**
- Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚ÐµÑÑŒ â†’ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ 3000â‚½
- Ð¥Ð²Ð°Ñ‚Ð¸Ñ‚ Ð½Ð° 3-6 Ð¼ÐµÑÑÑ†ÐµÐ² Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾Ð³Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ
- ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð», managed Ð‘Ð”
- Ð›ÐµÐ³ÐºÐ¾ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ

### Ð”Ð»Ñ Ð¼Ð°Ð»Ð¾Ð³Ð¾ Ð±ÑŽÐ´Ð¶ÐµÑ‚Ð°:

**ðŸ’° Timeweb Cloud**
- Ð’ÑÐµÐ³Ð¾ 249â‚½/Ð¼ÐµÑÑÑ†
- PostgreSQL Ð½Ð° Ñ‚Ð¾Ð¹ Ð¶Ðµ VPS
- ÐŸÑ€Ð¾ÑÑ‚Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°

### Ð”Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°:

**ðŸš€ VK Cloud** Ð¸Ð»Ð¸ **Selectel**
- ÐÐ°Ð´ÐµÐ¶Ð½Ð¾ÑÑ‚ÑŒ
- Managed ÑÐµÑ€Ð²Ð¸ÑÑ‹
- ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° 24/7

---

## ÐŸÑ€Ð¾ deprecated Ð¿Ð°ÐºÐµÑ‚Ñ‹

ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ñ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð²Ñ‹ Ð²Ð¸Ð´ÐµÐ»Ð¸:

```
npm warn deprecated rimraf@2.7.1
npm warn deprecated inflight@1.0.6
npm warn deprecated glob@7.2.3
```

Ð­Ñ‚Ð¾ **ÐÐ• ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾**! Ð­Ñ‚Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ ÑƒÑÑ‚Ð°Ñ€ÐµÐ²ÑˆÐ¸Ðµ Ð²ÐµÑ€ÑÐ¸Ð¸ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð½Ñ‹Ñ… Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹. ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾.

**Ð§Ñ‚Ð¾Ð±Ñ‹ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾):**

```bash
cd backend
npm audit fix
npm update
```

---

## Troubleshooting

### ÐÐµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ÑÑ Ðº Ð‘Ð”

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ
echo $DATABASE_URL

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚ÑŒ Ð‘Ð”
psql "postgresql://..."

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ firewall
sudo ufw status
```

### Backend Ð½Ðµ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸ PM2
pm2 logs yakgo-backend

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¿Ð¾Ñ€Ñ‚
sudo netstat -tulpn | grep 3001

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ
pm2 restart yakgo-backend
```

### WebSocket Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Nginx ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ
sudo nginx -t
cat /etc/nginx/sites-enabled/yakgo-backend

# Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ Ñ‡Ñ‚Ð¾ ÐµÑÑ‚ÑŒ:
# proxy_set_header Upgrade $http_upgrade;
# proxy_set_header Connection "upgrade";
```

---

## ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÑÑÑ‹Ð»ÐºÐ¸

**ÐžÐ±Ð»Ð°Ñ‡Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð²Ð°Ð¹Ð´ÐµÑ€Ñ‹:**
- [VK Cloud (Mail.ru Cloud)](https://mcs.mail.ru/)
- [Timeweb Cloud](https://timeweb.cloud/)
- [Selectel](https://selectel.ru/)
- [Ð¯Ð½Ð´ÐµÐºÑ.ÐžÐ±Ð»Ð°ÐºÐ¾](https://cloud.yandex.ru/)

**Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ñ‹ Ð´Ð¾Ð¼ÐµÐ½Ð¾Ð² (Ð Ð¤):**
- [REG.RU](https://www.reg.ru/)
- [Timeweb](https://timeweb.com/)
- [Nic.ru](https://www.nic.ru/)
- [Ru-Center](https://www.nic.ru/)

**Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ:**
- [VK Cloud Docs](https://cloud.vk.com/docs/)
- [Timeweb Help](https://timeweb.cloud/help/)
- [Selectel Docs](https://docs.selectel.ru/)

---

## Ð§ÐµÐº-Ð»Ð¸ÑÑ‚ Ð´ÐµÐ¿Ð»Ð¾Ñ

- [ ] âœ… Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð»Ð¸ÑÑŒ Ð² VK Cloud / Timeweb
- [ ] âœ… Ð¡Ð¾Ð·Ð´Ð°Ð»Ð¸ PostgreSQL Ð‘Ð”
- [ ] âœ… ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ð»Ð¸ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Prisma
- [ ] âœ… Ð¡Ð¾Ð·Ð´Ð°Ð»Ð¸ VM Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ð»Ð¸ firewall
- [ ] âœ… Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ð»Ð¸ Node.js, PM2, Nginx
- [ ] âœ… ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð»Ð¸ Ð¸ ÑÐ¾Ð±Ñ€Ð°Ð»Ð¸ Backend
- [ ] âœ… ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ð»Ð¸ .env Ñ Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸
- [ ] âœ… Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ð»Ð¸ Backend Ñ PM2
- [ ] âœ… ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ð»Ð¸ Nginx Ñ SSL
- [ ] âœ… Ð”ÐµÐ¿Ð»Ð¾Ð¸Ð»Ð¸ Frontend
- [ ] âœ… ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ð»Ð¸ Ð´Ð¾Ð¼ÐµÐ½ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
- [ ] âœ… Ð¡Ð¾Ð·Ð´Ð°Ð»Ð¸ Telegram Bot
- [ ] âœ… ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ð»Ð¸ Mini App
- [ ] âœ… ÐŸÑ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð»Ð¸ Ð²ÑÐµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸

**Ð£ÑÐ¿ÐµÑˆÐ½Ð¾Ð³Ð¾ Ð´ÐµÐ¿Ð»Ð¾Ñ Ð² Ð Ð¾ÑÑÐ¸Ð¸! ðŸ‡·ðŸ‡º**
