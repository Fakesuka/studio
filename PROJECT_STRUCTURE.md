# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ YakGo

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ YakGo - –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –∞–≤—Ç–æ–≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –≤ –Ø–∫—É—Ç–∏–∏.

## üèóÔ∏è –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
yakgo/
‚îú‚îÄ‚îÄ backend/                 # Backend API (Node.js + Express + Prisma)
‚îú‚îÄ‚îÄ src/                     # Frontend (Next.js 14 App Router)
‚îú‚îÄ‚îÄ public/                  # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ INSTALLATION.md          # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
‚îú‚îÄ‚îÄ PROJECT_STRUCTURE.md     # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ README.md               # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üìÇ Backend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
backend/
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma        # –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ seed.ts             # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.controller.ts       # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è, –æ–¥–æ–±—Ä–µ–Ω–∏–µ)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ marketplace.controller.ts # –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å (–º–∞–≥–∞–∑–∏–Ω—ã, —Ç–æ–≤–∞—Ä—ã, –∫–æ—Ä–∑–∏–Ω–∞)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders.controller.ts      # –ó–∞–∫–∞–∑—ã —É—Å–ª—É–≥
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ users.controller.ts       # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ middleware/          # –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.ts         # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.ts          # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ routes/              # –ú–∞—Ä—à—Ä—É—Ç—ã API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.routes.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ marketplace.routes.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders.routes.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ users.routes.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/               # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ prisma.ts        # –≠–∫–∑–µ–º–ø–ª—è—Ä Prisma Client
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ index.ts             # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞ (Express + Socket.IO)
‚îÇ   ‚îî‚îÄ‚îÄ bot.ts               # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram –±–æ—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ .env                     # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—Å—è!)
‚îú‚îÄ‚îÄ .env.example             # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ README.md
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã Backend

#### `src/index.ts`
- Express —Å–µ—Ä–≤–µ—Ä
- Socket.IO –¥–ª—è WebSocket
- CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ real-time –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –≤–æ–¥–∏—Ç–µ–ª—è

#### `prisma/schema.prisma`
**–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö:**
- `User` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–∫–ª–∏–µ–Ω—Ç—ã, –≤–æ–¥–∏—Ç–µ–ª–∏, –ø—Ä–æ–¥–∞–≤—Ü—ã, –∞–¥–º–∏–Ω—ã)
- `DriverProfile` - –ü—Ä–æ—Ñ–∏–ª–∏ –≤–æ–¥–∏—Ç–µ–ª–µ–π (—Ä–µ–π—Ç–∏–Ω–≥, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è)
- `SellerProfile` - –ü—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ (–º–∞–≥–∞–∑–∏–Ω—ã, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è)
- `Order` - –ó–∞–∫–∞–∑—ã —É—Å–ª—É–≥ (–æ—Ç–æ–≥—Ä–µ–≤, —Ç–æ–ø–ª–∏–≤–æ, —ç–≤–∞–∫—É–∞—Ç–æ—Ä –∏ —Ç.–¥.)
- `Shop` - –ú–∞–≥–∞–∑–∏–Ω—ã
- `Product` - –¢–æ–≤–∞—Ä—ã (—Å –æ–¥–æ–±—Ä–µ–Ω–∏–µ–º –∞–¥–º–∏–Ω–æ–º)
- `CartItem` - –ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `MarketplaceOrder` - –ó–∞–∫–∞–∑—ã –≤ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–µ
- `MarketplaceOrderItem` - –ü–æ–∑–∏—Ü–∏–∏ –≤ –∑–∞–∫–∞–∑–µ
- `DriverLocation` - –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –≤–æ–¥–∏—Ç–µ–ª—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

## üìÇ Frontend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ app/                     # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ (app)/               # –ì—Ä—É–ø–ø–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å layout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cart/            # –ö–æ—Ä–∑–∏–Ω–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ checkout/        # –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/       # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∞–∫—Ç–∏–≤–Ω—ã–º –∑–∞–∫–∞–∑–æ–º
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx     # ‚ú® –ö–ê–†–¢–ê –° REAL-TIME –û–¢–°–õ–ï–ñ–ò–í–ê–ù–ò–ï–ú
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ driver/          # –†–∞–∑–¥–µ–ª –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª–µ–π
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/   # ‚ú® –¢–†–ê–ù–°–õ–Ø–¶–ò–Ø –ì–ï–û–õ–û–ö–ê–¶–ò–ò
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ history/     # –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile/     # –ü—Ä–æ—Ñ–∏–ª—å –∏ –±–∞–ª–∞–Ω—Å
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register/    # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–¥–∏—Ç–µ–ª—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ marketplace/     # –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ shops/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ my-store/        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–æ–º (–¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders/          # –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile/         # –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ new/         # ‚ú® –°–û–ó–î–ê–ù–ò–ï –ó–ê–Ø–í–ö–ò –° AI (Qwen)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ admin/               # ‚ú® –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –∏ –æ–¥–æ–±—Ä–µ–Ω–∏–µ–º
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ verify/              # –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è Telegram
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx           # –ö–æ—Ä–Ω–µ–≤–æ–π layout (–∑–∞–≥—Ä—É–∑–∫–∞ 2GIS, Telegram SDK)
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx             # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îî‚îÄ‚îÄ globals.css          # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ components/              # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ui/                  # Shadcn/UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ button.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ card.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ input.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tabs.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...              # –î—Ä—É–≥–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ map-2gis.tsx         # ‚ú® –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç—ã 2GIS
‚îÇ   ‚îú‚îÄ‚îÄ root-providers.tsx   # –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (AppContext)
‚îÇ   ‚îú‚îÄ‚îÄ service-request-form.tsx # ‚ú® –§–æ—Ä–º–∞ —Å AI –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π
‚îÇ   ‚îî‚îÄ‚îÄ weather-widget.tsx   # –í–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã
‚îÇ
‚îú‚îÄ‚îÄ context/
‚îÇ   ‚îî‚îÄ‚îÄ AppContext.tsx       # –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∑–∞–∫–∞–∑—ã)
‚îÇ
‚îú‚îÄ‚îÄ lib/                     # –£—Ç–∏–ª–∏—Ç—ã –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ api.ts               # –ö–ª–∏–µ–Ω—Ç API (fetch –æ–±–µ—Ä—Ç–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ data.ts              # Mock –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ types.ts             # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ utils.ts             # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (cn –∏ –¥—Ä.)
‚îÇ   ‚îî‚îÄ‚îÄ websocket.ts         # ‚ú® WebSocket –∫–ª–∏–µ–Ω—Ç –¥–ª—è real-time
‚îÇ
‚îú‚îÄ‚îÄ ai/                      # ‚ú® AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ qwen.ts              # Qwen AI (Ollama, DashScope, OpenAI)
‚îÇ
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îî‚îÄ‚îÄ use-toast.ts         # –•—É–∫ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îÇ
‚îî‚îÄ‚îÄ styles/
    ‚îî‚îÄ‚îÄ globals.css          # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏

public/
‚îú‚îÄ‚îÄ icons/                   # –ò–∫–æ–Ω–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ images/                  # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Frontend

#### Real-time –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª—è
**–§–∞–π–ª:** `src/app/(app)/dashboard/page.tsx`
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `ActiveOrderCard` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç—É —Å –¥–≤—É–º—è –º–∞—Ä–∫–µ—Ä–∞–º–∏
- –ö–ª–∏–µ–Ω—Ç (—Å–∏–Ω–∏–π –º–∞—Ä–∫–µ—Ä üìç) - —Å—Ç–∞—Ç–∏—á–Ω—ã–π
- –í–æ–¥–∏—Ç–µ–ª—å (–∑–µ–ª–µ–Ω—ã–π –º–∞—Ä–∫–µ—Ä üöó) - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- WebSocket –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ `driver:location:update`

**–§–∞–π–ª:** `src/app/(app)/driver/dashboard/page.tsx`
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `ActiveDriverOrderCard` —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `navigator.geolocation.watchPosition()`
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —á–µ—Ä–µ–∑ WebSocket –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥

#### AI –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
**–§–∞–π–ª:** `src/ai/qwen.ts`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Ollama (–ª–æ–∫–∞–ª—å–Ω—ã–π, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Alibaba Cloud DashScope API
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö API
- Fallback –Ω–∞ keyword matching

#### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
**–§–∞–π–ª:** `src/app/admin/page.tsx`
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
- –û–¥–æ–±—Ä–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ö–µ–º–∞ —Å–≤—è–∑–µ–π

```
User (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
‚îú‚îÄ‚îÄ> DriverProfile (1:1) - –ø—Ä–æ—Ñ–∏–ª—å –≤–æ–¥–∏—Ç–µ–ª—è
‚îú‚îÄ‚îÄ> SellerProfile (1:1) - –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞
‚îú‚îÄ‚îÄ> Order[] (1:N) - –∑–∞–∫–∞–∑—ã –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ> Order[] (1:N) - –∑–∞–∫–∞–∑—ã –∫–∞–∫ –≤–æ–¥–∏—Ç–µ–ª—å
‚îú‚îÄ‚îÄ> Shop[] (1:N) - –º–∞–≥–∞–∑–∏–Ω—ã
‚îú‚îÄ‚îÄ> MarketplaceOrder[] (1:N) - –∑–∞–∫–∞–∑—ã –≤ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–µ
‚îî‚îÄ‚îÄ> CartItem[] (1:N) - –∫–æ—Ä–∑–∏–Ω–∞

Shop (–º–∞–≥–∞–∑–∏–Ω)
‚îú‚îÄ‚îÄ> User (N:1) - –≤–ª–∞–¥–µ–ª–µ—Ü
‚îî‚îÄ‚îÄ> Product[] (1:N) - —Ç–æ–≤–∞—Ä—ã

Product (—Ç–æ–≤–∞—Ä)
‚îú‚îÄ‚îÄ> Shop (N:1) - –º–∞–≥–∞–∑–∏–Ω
‚îú‚îÄ‚îÄ> CartItem[] (1:N) - –≤ –∫–æ—Ä–∑–∏–Ω–∞—Ö
‚îî‚îÄ‚îÄ> MarketplaceOrderItem[] (1:N) - –≤ –∑–∞–∫–∞–∑–∞—Ö

Order (–∑–∞–∫–∞–∑ —É—Å–ª—É–≥–∏)
‚îú‚îÄ‚îÄ> User (N:1) - –∫–ª–∏–µ–Ω—Ç
‚îî‚îÄ‚îÄ> User (N:1) - –≤–æ–¥–∏—Ç–µ–ª—å

MarketplaceOrder (–∑–∞–∫–∞–∑ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞)
‚îú‚îÄ‚îÄ> User (N:1) - –∫–ª–∏–µ–Ω—Ç
‚îî‚îÄ‚îÄ> MarketplaceOrderItem[] (1:N) - —Ç–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑–µ

DriverLocation (–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è)
‚îî‚îÄ‚îÄ> (—Å–≤—è–∑—å –ø–æ driverId, –Ω–µ FK)
```

### –í–∞–∂–Ω—ã–µ –ø–æ–ª—è

**User:**
- `isAdmin` - —Ñ–ª–∞–≥ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `balance` - –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**DriverProfile:**
- `verified` - –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –ª–∏ –∞–¥–º–∏–Ω–æ–º
- `rating` - —Ä–µ–π—Ç–∏–Ω–≥ –≤–æ–¥–∏—Ç–µ–ª—è
- `services` - –º–∞—Å—Å–∏–≤ —É—Å–ª—É–≥ (–û—Ç–æ–≥—Ä–µ–≤, –¢–æ–ø–ª–∏–≤–æ –∏ —Ç.–¥.)

**SellerProfile:**
- `verified` - –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –ª–∏ –∞–¥–º–∏–Ω–æ–º

**Product:**
- `approved` - –æ–¥–æ–±—Ä–µ–Ω –ª–∏ –∞–¥–º–∏–Ω–æ–º

**Order:**
- `status` - "–ò—â–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è" / "–í –ø—Ä–æ—Ü–µ—Å—Å–µ" / "–ó–∞–≤–µ—Ä—à–µ–Ω" / "–û—Ç–º–µ–Ω–µ–Ω"
- `arrivalTime` - –≤—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è –≤ –º–∏–Ω—É—Ç–∞—Ö
- `latitude`, `longitude` - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞

---

## üîå API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫:
```
X-Telegram-Init-Data: <initData from Telegram.WebApp>
```

### –ì—Ä—É–ø–ø—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

| –ì—Ä—É–ø–ø–∞ | –ü—Ä–µ—Ñ–∏–∫—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|---------|----------|
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ | `/api/users` | –ü—Ä–æ—Ñ–∏–ª–∏, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –±–∞–ª–∞–Ω—Å |
| –ó–∞–∫–∞–∑—ã —É—Å–ª—É–≥ | `/api/orders` | –°–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–∏–Ω—è—Ç–∏–µ, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ |
| –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å | `/api/marketplace` | –ú–∞–≥–∞–∑–∏–Ω—ã, —Ç–æ–≤–∞—Ä—ã, –∫–æ—Ä–∑–∏–Ω–∞ |
| –ê–¥–º–∏–Ω | `/api/admin` | –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è, –æ–¥–æ–±—Ä–µ–Ω–∏–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–º. –≤ [backend/README.md](backend/README.md)

---

## üîÑ WebSocket —Å–æ–±—ã—Ç–∏—è

### –ö–ª–∏–µ–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä

| –°–æ–±—ã—Ç–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------|----------|
| `driver:location` | `{ driverId, latitude, longitude }` | –í–æ–¥–∏—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ—é –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é |
| `order:subscribe` | `orderId` | –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ |
| `order:unsubscribe` | `orderId` | –û—Ç–ø–∏—Å–∫–∞ –æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π |

### –°–µ—Ä–≤–µ—Ä ‚Üí –ö–ª–∏–µ–Ω—Ç

| –°–æ–±—ã—Ç–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------|----------|
| `driver:location:update` | `{ orderId, latitude, longitude }` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –≤–æ–¥–∏—Ç–µ–ª—è |

---

## üé® UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Shadcn/UI)

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Shadcn/UI - –∫–æ–ª–ª–µ–∫—Ü–∏—é –∫–æ–ø–∏—Ä—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ –±–∞–∑–µ Radix UI.

**–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- Avatar
- Badge
- Button
- Card
- Dialog
- Input
- Select
- Skeleton
- Table
- Tabs
- Toast
- Alert Dialog

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
```bash
npx shadcn-ui@latest add [component-name]
```

---

## üåê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Backend (.env)

```env
DATABASE_URL="postgresql://user:password@localhost:5432/yakgo"
PORT=3001
NODE_ENV=development
JWT_SECRET=your-secret-key
TELEGRAM_BOT_TOKEN=your-bot-token
TELEGRAM_BOT_SECRET=your-secret
FRONTEND_URL=http://localhost:9002
```

### Frontend (.env.local)

```env
NEXT_PUBLIC_API_URL=http://localhost:3001/api
NEXT_PUBLIC_WS_URL=http://localhost:3001
NEXT_PUBLIC_2GIS_API_KEY=1e0bb99c-b88d-4624-974a-63ab8c556c19
```

---

## üöÄ –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –†–∞–±–æ—Ç–∞ —Å backend

```bash
cd backend

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev              # –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Å hot-reload

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
npm run prisma:studio    # GUI –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ë–î
npm run prisma:generate  # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
npm run prisma:push      # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º—ã —Å –ë–î
npm run prisma:seed      # –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

# Production
npm run build            # –ö–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript
npm run start            # –ó–∞–ø—É—Å–∫ production —Å–µ—Ä–≤–µ—Ä–∞
```

### –†–∞–±–æ—Ç–∞ —Å frontend

```bash
# –ò–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev              # –ó–∞–ø—É—Å–∫ Next.js dev server

# Production
npm run build            # –°–±–æ—Ä–∫–∞ –¥–ª—è production
npm run start            # –ó–∞–ø—É—Å–∫ production —Å–µ—Ä–≤–µ—Ä–∞

# –£—Ç–∏–ª–∏—Ç—ã
npm run lint             # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
```

---

## üìù –¢–∏–ø–æ–≤—ã–µ –∑–∞–¥–∞—á–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞

1. –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ `backend/src/controllers/`
2. –î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç –≤ `backend/src/routes/`
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–æ—É—Ç –≤ `backend/src/index.ts`
4. –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã –≤ `src/lib/types.ts` (frontend)
5. –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ `src/lib/api.ts` (frontend)

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏ –ë–î

1. –û–±–Ω–æ–≤–∏—Ç—å `backend/prisma/schema.prisma`
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å `npm run prisma:generate`
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å `npm run prisma:push`
4. –û–±–Ω–æ–≤–∏—Ç—å seed —Ñ–∞–π–ª `backend/prisma/seed.ts`
5. –î–æ–±–∞–≤–∏—Ç—å TypeScript —Ç–∏–ø—ã –≤ `src/lib/types.ts`

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

1. –°–æ–∑–¥–∞—Ç—å `src/app/[route]/page.tsx`
2. –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏—é
3. –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Backend
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è Telegram initData —á–µ—Ä–µ–∑ crypto
- ‚úÖ JWT –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (—Ç–æ–ª—å–∫–æ Telegram auth)
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π FRONTEND_URL
- ‚úÖ Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–¥–º–∏–Ω –ø—Ä–∞–≤
- ‚úÖ SQL injection –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ Prisma ORM

### Frontend
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Telegram Mini App
- ‚úÖ –ù–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API —Ç—Ä–µ–±—É—é—Ç Telegram initData

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **Backend API:**
```bash
curl http://localhost:3001/health
```

2. **WebSocket:**
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
const socket = io('http://localhost:3001');
socket.on('connect', () => console.log('Connected!'));
```

3. **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞: telegramId = `111111111`
- –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:9002/admin

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

–°–º. —Ä–∞–∑–¥–µ–ª "–¢–µ—Å—Ç–æ–≤—ã–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏" –≤ [INSTALLATION.md](INSTALLATION.md)

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [INSTALLATION.md](INSTALLATION.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- [backend/README.md](backend/README.md) - Backend API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [README.md](README.md) - –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ

---

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è —Ñ–∏—á–∏: `git checkout -b feature/amazing-feature`
2. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è: `git commit -m 'Add amazing feature'`
3. Push –≤ –≤–µ—Ç–∫—É: `git push origin feature/amazing-feature`
4. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ [INSTALLATION.md](INSTALLATION.md)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend: `cd backend && npm run dev`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
5. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**–£–¥–∞—á–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ! üöÄ**
